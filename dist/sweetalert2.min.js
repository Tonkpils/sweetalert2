(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

// SweetAlert2
// github.com/limonte/sweetalert2

var sweetAlert, _swal;

exports.default = sweetAlert = _swal = function swal() {
  var args = arguments;
  var modal = getModal();

  if (modal === null) {
    _swal.init();
    modal = getModal();
  }

  if (hasClass(modal, 'visible')) {
    resetPrevState();
  }

  return modalDependant.apply(this, args);
};

/*
 * Set type, text and actions on modal
 */


var setParameters = function setParameters(params) {
  var i;
  var modal = getModal();

  // set modal width, padding and margin-left
  modal.style.width = params.width + 'px';
  modal.style.padding = params.padding + 'px';
  modal.style.marginLeft = -params.width / 2 + 'px';
  modal.style.background = params.background;

  // add dynamic media query css
  var head = document.getElementsByTagName('head')[0];
  var cssNode = document.createElement('style');
  cssNode.type = 'text/css';
  cssNode.id = mediaqueryId;
  cssNode.innerHTML = '@media screen and (max-width: ' + params.width + 'px) {' + '.' + swalClasses.modal + ' {' + 'max-width: 100%;' + 'left: 0 !important;' + 'margin-left: 0 !important;' + '}' + '}';
  head.appendChild(cssNode);

  var $title = modal.querySelector('h2');
  var $content = modal.querySelector('.' + swalClasses.content);
  var $confirmBtn = modal.querySelector('button.' + swalClasses.confirm);
  var $cancelBtn = modal.querySelector('button.' + swalClasses.cancel);
  var $spacer = modal.querySelector('.' + swalClasses.spacer);
  var $closeButton = modal.querySelector('.' + swalClasses.close);

  // Title
  $title.innerHTML = params.title.split('\n').join('<br>');

  // Content
  if (params.text || params.html) {
    if (_typeof(params.html) === 'object') {
      $content.innerHTML = '';
      if (0 in params.html) {
        for (i = 0; i in params.html; i++) {
          $content.appendChild(params.html[i]);
        }
      } else {
        $content.appendChild(params.html);
      }
    } else {
      $content.innerHTML = params.html || params.text.split('\n').join('<br>');
    }
    show($content);
  } else {
    hide($content);
  }

  // Close button
  if (params.showCloseButton) {
    show($closeButton);
  } else {
    hide($closeButton);
  }

  // Custom Class
  modal.className = swalClasses.modal;
  if (params.customClass) {
    addClass(modal, params.customClass);
  }

  // Icon
  hide(modal.querySelectorAll('.' + swalClasses.icon));
  if (params.type) {
    var validType = false;
    for (var iconType in swalClasses.iconTypes) {
      if (params.type === iconType) {
        validType = true;
        break;
      }
    }
    if (!validType) {
      window.console.error('Unknown alert type: ' + params.type);
      return false;
    }
    var $icon = modal.querySelector('.' + swalClasses.icon + '.' + swalClasses.iconTypes[params.type]);
    show($icon);

    // Animate icon
    switch (params.type) {
      case 'success':
        addClass($icon, 'animate');
        addClass($icon.querySelector('.tip'), 'animate-success-tip');
        addClass($icon.querySelector('.long'), 'animate-success-long');
        break;
      case 'error':
        addClass($icon, 'animate-error-icon');
        addClass($icon.querySelector('.x-mark'), 'animate-x-mark');
        break;
      case 'warning':
        addClass($icon, 'pulse-warning');
        break;
      default:
        break;
    }
  }

  // Custom image
  var $customImage = modal.querySelector('.' + swalClasses.image);
  if (params.imageUrl) {
    $customImage.setAttribute('src', params.imageUrl);
    show($customImage);

    if (params.imageWidth) {
      $customImage.setAttribute('width', params.imageWidth);
    }

    if (params.imageHeight) {
      $customImage.setAttribute('height', params.imageHeight);
    }

    if (params.imageClass) {
      addClass($customImage, params.imageClass);
    }
  } else {
    hide($customImage);
  }

  // input, select
  var inputTypes = ['input', 'select', 'radio', 'checkbox', 'textarea'];
  var input;
  for (i = 0; i < inputTypes.length; i++) {
    var inputClass = swalClasses[inputTypes[i]];
    input = getChildByClass(modal, inputClass);

    // set attributes
    while (input.attributes.length > 0) {
      input.removeAttribute(input.attributes[0].name);
    }
    for (var attr in params.inputAttributes) {
      input.setAttribute(attr, params.inputAttributes[attr]);
    }

    // set class
    input.className = inputClass;
    if (params.inputClass) {
      addClass(input, params.inputClass);
    }

    _hide(input);
  }
  switch (params.input) {
    case 'text':
    case 'email':
    case 'password':
      input = getChildByClass(modal, swalClasses.input);
      input.value = params.inputValue;
      input.placeholder = params.inputPlaceholder;
      input.type = params.input;
      _show(input);
      break;
    case 'select':
      var select = getChildByClass(modal, swalClasses.select);
      select.innerHTML = '';
      if (params.inputPlaceholder) {
        var placeholder = document.createElement('option');
        placeholder.innerHTML = params.inputPlaceholder;
        placeholder.disabled = true;
        placeholder.selected = true;
        select.appendChild(placeholder);
      }
      for (var optionValue in params.inputOptions) {
        var option = document.createElement('option');
        option.value = optionValue;
        option.innerHTML = params.inputOptions[optionValue];
        if (params.inputValue === optionValue) {
          option.selected = true;
        }
        select.appendChild(option);
      }
      _show(select);
      break;
    case 'radio':
      var radio = getChildByClass(modal, swalClasses.radio);
      radio.innerHTML = '';
      for (var radioValue in params.inputOptions) {
        var id = 1;
        var radioInput = document.createElement('input');
        var radioLabel = document.createElement('label');
        var radioLabelSpan = document.createElement('span');
        radioInput.type = 'radio';
        radioInput.name = swalClasses.radio;
        radioInput.value = radioValue;
        radioInput.id = swalClasses.radio + '-' + id++;
        if (params.inputValue === radioValue) {
          radioInput.checked = true;
        }
        radioLabelSpan.innerHTML = params.inputOptions[radioValue];
        radioLabel.appendChild(radioInput);
        radioLabel.appendChild(radioLabelSpan);
        radioLabel.for = radioInput.id;
        radio.appendChild(radioLabel);
      }
      _show(radio);
      break;
    case 'checkbox':
      var checkbox = getChildByClass(modal, swalClasses.checkbox);
      var checkboxInput = modal.querySelector('#' + swalClasses.checkbox);
      checkboxInput.value = 1;
      checkboxInput.checked = Boolean(params.inputValue);
      var label = checkbox.getElementsByTagName('span');
      if (label.length) {
        checkbox.removeChild(label[0]);
      }
      label = document.createElement('span');
      label.innerHTML = params.inputPlaceholder;
      checkbox.appendChild(label);
      _show(checkbox);
      break;
    case 'textarea':
      var textarea = getChildByClass(modal, swalClasses.textarea);
      textarea.value = params.inputValue;
      textarea.placeholder = params.inputPlaceholder;
      _show(textarea);
      break;
    case null:
      break;
    default:
      window.console.error('Unexpected type of input! Expected "text" or "email" or "password", "select", "checkbox" or "textarea", got ' + _typeof(arguments[0]));
      break;
  }

  // Cancel button
  if (params.showCancelButton) {
    $cancelBtn.style.display = 'inline-block';
  } else {
    hide($cancelBtn);
  }

  // Confirm button
  if (params.showConfirmButton) {
    removeStyleProperty($confirmBtn, 'display');
  } else {
    hide($confirmBtn);
  }

  // Buttons spacer
  if (!params.showConfirmButton && !params.showCancelButton) {
    hide($spacer);
  } else {
    show($spacer);
  }

  // Edit text on cancel and confirm buttons
  $confirmBtn.innerHTML = params.confirmButtonText;
  $cancelBtn.innerHTML = params.cancelButtonText;

  // Set buttons to selected background colors
  if (params.buttonsStyling) {
    $confirmBtn.style.backgroundColor = params.confirmButtonColor;
    $cancelBtn.style.backgroundColor = params.cancelButtonColor;
  }

  // Add buttons custom classes
  $confirmBtn.className = swalClasses.confirm;
  addClass($confirmBtn, params.confirmButtonClass);
  $cancelBtn.className = swalClasses.cancel;
  addClass($cancelBtn, params.cancelButtonClass);

  // Buttons styling
  if (params.buttonsStyling) {
    addClass($confirmBtn, 'styled');
    addClass($cancelBtn, 'styled');
  } else {
    removeClass($confirmBtn, 'styled');
    removeClass($cancelBtn, 'styled');

    $confirmBtn.style.backgroundColor = $confirmBtn.style.borderLeftColor = $confirmBtn.style.borderRightColor = '';
    $cancelBtn.style.backgroundColor = $cancelBtn.style.borderLeftColor = $cancelBtn.style.borderRightColor = '';
  }

  // CSS animation
  if (params.animation === true) {
    removeClass(modal, 'no-animation');
  } else {
    addClass(modal, 'no-animation');
  }
};

/*
 * Global function to click 'Cancel' button
 */
sweetAlert.clickCancel = _swal.clickCancel = function () {
  var modal = getModal();
  var $cancelButton = modal.querySelector('button.' + swalClasses.cancel);
  $cancelButton.click();
};

/*
 * Global function to click 'Confirm' button
 */
sweetAlert.clickConfirm = _swal.clickConfirm = function () {
  var modal = getModal();
  var $confirmButton = modal.querySelector('button.' + swalClasses.confirm);
  $confirmButton.click();
};

/*
 * Add modal + overlay to DOM
 */
_swal.init = function () {
  if (document.getElementsByClassName(swalClasses.container).length) {
    return;
  }

  var sweetHTML = '<div class="' + swalClasses.overlay + '" tabIndex="-1"></div>' + '<div class="' + swalClasses.modal + '" style="display: none" tabIndex="-1">' + '<div class="' + swalClasses.icon + ' ' + swalClasses.iconTypes.error + '">' + '<span class="x-mark"><span class="line left"></span><span class="line right"></span></span>' + '</div>' + '<div class="' + swalClasses.icon + ' ' + swalClasses.iconTypes.question + '">?</div>' + '<div class="' + swalClasses.icon + ' ' + swalClasses.iconTypes.warning + '">!</div>' + '<div class="' + swalClasses.icon + ' ' + swalClasses.iconTypes.info + '">i</div>' + '<div class="' + swalClasses.icon + ' ' + swalClasses.iconTypes.success + '">' + '<span class="line tip"></span> <span class="line long"></span>' + '<div class="placeholder"></div> <div class="fix"></div>' + '</div>' + '<img class="' + swalClasses.image + '">' + '<h2></h2>' + '<div class="' + swalClasses.content + '"></div>' + '<input class="' + swalClasses.input + '">' + '<select class="' + swalClasses.select + '"></select>' + '<div class="' + swalClasses.radio + '"></div>' + '<label for="' + swalClasses.checkbox + '" class="' + swalClasses.checkbox + '">' + '<input type="checkbox" id="' + swalClasses.checkbox + '">' + '</label>' + '<textarea class="' + swalClasses.textarea + '"></textarea>' + '<div class="' + swalClasses.validationerror + '"></div>' + '<hr class="' + swalClasses.spacer + '">' + '<button class="' + swalClasses.confirm + '">OK</button>' + '<button class="' + swalClasses.cancel + '">Cancel</button>' + '<span class="' + swalClasses.close + '">&times;</span>' + '</div>';
  var sweetWrap = document.createElement('div');
  sweetWrap.className = swalClasses.container;

  sweetWrap.innerHTML = sweetHTML;

  document.body.appendChild(sweetWrap);

  var modal = getModal();
  var $input = getChildByClass(modal, swalClasses.input);
  var $select = getChildByClass(modal, swalClasses.select);
  var $checkbox = modal.querySelector('#' + swalClasses.checkbox);
  var $textarea = getChildByClass(modal, swalClasses.textarea);

  $input.oninput = function () {
    _swal.resetValidationError();
  };

  $input.onkeyup = function (event) {
    event.stopPropagation();
    if (event.keyCode === 13) {
      _swal.clickConfirm();
    }
  };

  $select.onchange = function () {
    _swal.resetValidationError();
  };

  $checkbox.onchange = function () {
    _swal.resetValidationError();
  };

  $textarea.onchange = function () {
    _swal.resetValidationError();
  };
};

/**
 * Set default params for each popup
 * @param {Object} userParams
 */
_swal.setDefaults = function (userParams) {
  if (!userParams) {
    throw new Error('userParams is required');
  }
  if ((typeof userParams === 'undefined' ? 'undefined' : _typeof(userParams)) !== 'object') {
    throw new Error('userParams has to be a object');
  }

  extend(defaultParams, userParams);
};

/*
 * Global function to close sweetAlert
 */
sweetAlert.close = _swal.close = sweetAlert.closeModal = _swal.closeModal = function () {
  var modal = getModal();
  _hide(getOverlay());
  _hide(modal);
  removeClass(modal, 'show-swal2');
  addClass(modal, 'hide-swal2');
  removeClass(modal, 'visible');

  // Reset icon animations

  var $successIcon = modal.querySelector('.' + swalClasses.icon + '.' + swalClasses.iconTypes.success);
  removeClass($successIcon, 'animate');
  removeClass($successIcon.querySelector('.tip'), 'animate-success-tip');
  removeClass($successIcon.querySelector('.long'), 'animate-success-long');

  var $errorIcon = modal.querySelector('.' + swalClasses.icon + '.' + swalClasses.iconTypes.error);
  removeClass($errorIcon, 'animate-error-icon');
  removeClass($errorIcon.querySelector('.x-mark'), 'animate-x-mark');

  var $warningIcon = modal.querySelector('.' + swalClasses.icon + '.' + swalClasses.iconTypes.warning);
  removeClass($warningIcon, 'pulse-warning');

  resetPrevState();
};

var swalPrefix = 'swal2-';
// window.swalPrefix = 'swal2-';
var prefix = function prefix(items) {
  var result = {};
  for (var i in items) {
    result[items[i]] = swalPrefix + items[i];
  }
  return result;
};

// window.swalClasses = prefix([
var swalClasses = prefix(['container', 'modal', 'overlay', 'close', 'content', 'spacer', 'confirm', 'cancel', 'icon', 'image', 'input', 'select', 'radio', 'checkbox', 'textarea', 'validationerror']);

// window.swalClasses.iconTypes = prefix(['success', 'warning', 'info', 'question', 'error']);
swalClasses.iconTypes = prefix(['success', 'warning', 'info', 'question', 'error']);

var mediaqueryId = swalPrefix + 'mediaquery';
var defaultParams = {
  title: '',
  text: '',
  html: '',
  type: null,
  animation: true,
  allowOutsideClick: true,
  allowEscapeKey: true,
  showConfirmButton: true,
  showCancelButton: false,
  preConfirm: null,
  confirmButtonText: 'OK',
  confirmButtonColor: '#3085d6',
  confirmButtonClass: null,
  cancelButtonText: 'Cancel',
  cancelButtonColor: '#aaa',
  cancelButtonClass: null,
  buttonsStyling: true,
  reverseButtons: false,
  showCloseButton: false,
  imageUrl: null,
  imageWidth: null,
  imageHeight: null,
  imageClass: null,
  timer: null,
  width: 500,
  padding: 20,
  background: '#fff',
  input: null, // 'text' | 'email' | 'password' | 'select' | 'radio' | 'checkbox' | 'textarea'
  inputPlaceholder: '',
  inputValue: '',
  inputOptions: {},
  inputAutoTrim: true,
  inputClass: null,
  inputAttributes: {},
  inputValidator: null
};

/*
 * Manipulate DOM
 */
var getModal = function getModal() {
  return document.querySelector('.' + swalClasses.modal);
};

var getOverlay = function getOverlay() {
  return document.querySelector('.' + swalClasses.overlay);
};

var hasClass = function hasClass(elem, className) {
  return new RegExp(' ' + className + ' ').test(' ' + elem.className + ' ');
};

var focusInput = function focusInput(input) {
  input.focus();

  // http://stackoverflow.com/a/2345915/1331425
  var val = input.value;
  input.value = '';
  input.value = val;
};

var addClass = function addClass(elem, className) {
  if (className && !hasClass(elem, className)) {
    elem.className += ' ' + className;
  }
};

var removeClass = function removeClass(elem, className) {
  var newClass = ' ' + elem.className.replace(/[\t\r\n]/g, ' ') + ' ';
  if (hasClass(elem, className)) {
    while (newClass.indexOf(' ' + className + ' ') >= 0) {
      newClass = newClass.replace(' ' + className + ' ', ' ');
    }
    elem.className = newClass.replace(/^\s+|\s+$/g, '');
  }
};

var getChildByClass = function getChildByClass(elem, className) {
  for (var i = 0; i < elem.childNodes.length; i++) {
    if (elem.childNodes[i].classList.contains(className)) {
      return elem.childNodes[i];
    }
  }
};

var _show = function _show(elem) {
  elem.style.opacity = '';
  elem.style.display = 'block';
};

var show = function show(elems) {
  if (elems && !elems.length) {
    return _show(elems);
  }
  for (var i = 0; i < elems.length; ++i) {
    _show(elems[i]);
  }
};

var _hide = function _hide(elem) {
  elem.style.opacity = '';
  elem.style.display = 'none';
};

var hide = function hide(elems) {
  if (elems && !elems.length) {
    return _hide(elems);
  }
  for (var i = 0; i < elems.length; ++i) {
    _hide(elems[i]);
  }
};

var removeStyleProperty = function removeStyleProperty(elem, property) {
  if (elem.style.removeProperty) {
    elem.style.removeProperty(property);
  } else {
    elem.style.removeAttribute(property);
  }
};

var getTopMargin = function getTopMargin(elem) {
  elem.style.left = '-9999px';
  elem.style.display = 'block';

  var height = elem.clientHeight;
  var paddingTop = parseInt(getComputedStyle(elem).getPropertyValue('padding-top'), 10);

  elem.style.left = '';
  elem.style.display = 'none';
  return '-' + parseInt(height / 2 + paddingTop, 10) + 'px';
};

var fadeIn = function fadeIn(elem, interval) {
  if (+elem.style.opacity < 1) {
    interval = interval || 16;
    elem.style.opacity = 0;
    elem.style.display = 'block';
    var last = +new Date();
    var tick = function tick() {
      elem.style.opacity = +elem.style.opacity + (new Date() - last) / 100;
      last = +new Date();

      if (+elem.style.opacity < 1) {
        setTimeout(tick, interval);
      }
    };
    tick();
  }
};

var extend = function extend(a, b) {
  for (var key in b) {
    if (b.hasOwnProperty(key)) {
      a[key] = b[key];
    }
  }

  return a;
};

var fireClick = function fireClick(node) {
  // Taken from http://www.nonobtrusive.com/2011/11/29/programatically-fire-crossbrowser-click-event-with-javascript/
  // Then fixed for today's Chrome browser.
  if (typeof MouseEvent === 'function') {
    // Up-to-date approach
    var mevt = new MouseEvent('click', {
      view: window,
      bubbles: false,
      cancelable: true
    });
    node.dispatchEvent(mevt);
  } else if (document.createEvent) {
    // Fallback
    var evt = document.createEvent('MouseEvents');
    evt.initEvent('click', false, false);
    node.dispatchEvent(evt);
  } else if (document.createEventObject) {
    node.fireEvent('onclick');
  } else if (typeof node.onclick === 'function') {
    node.onclick();
  }
};

var stopEventPropagation = function stopEventPropagation(e) {
  // In particular, make sure the space bar doesn't scroll the main window.
  if (typeof e.stopPropagation === 'function') {
    e.stopPropagation();
    e.preventDefault();
  } else if (window.event && window.event.hasOwnProperty('cancelBubble')) {
    window.event.cancelBubble = true;
  }
};

// Remember state in cases where opening and handling a modal will fiddle with it.
var previousDocumentClick;
var previousWindowKeyDown;
var lastFocusedButton;

// Reset the page to its previous state
var resetPrevState = function resetPrevState() {
  var modal = getModal();
  window.onkeydown = previousWindowKeyDown;
  document.onclick = previousDocumentClick;
  if (window.previousActiveElement) {
    window.previousActiveElement.focus();
  }
  lastFocusedButton = undefined;
  clearTimeout(modal.timeout);

  // Remove dynamically created media query
  var head = document.getElementsByTagName('head')[0];
  var mediaquery = document.getElementById(mediaqueryId);
  if (mediaquery) {
    head.removeChild(mediaquery);
  }
};

/*
 * Set hover, active and focus-states for buttons (source: http://www.sitepoint.com/javascript-generate-lighter-darker-color)
 */
var colorLuminance = function colorLuminance(hex, lum) {
  // Validate hex string
  hex = String(hex).replace(/[^0-9a-f]/gi, '');
  if (hex.length < 6) {
    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];
  }
  lum = lum || 0;

  // Convert to decimal and change luminosity
  var rgb = '#';
  for (var i = 0; i < 3; i++) {
    var c = parseInt(hex.substr(i * 2, 2), 16);
    c = Math.round(Math.min(Math.max(0, c + c * lum), 255)).toString(16);
    rgb += ('00' + c).substr(c.length);
  }

  return rgb;
};

/*
 * Animations
 */
var openModal = function openModal() {
  var modal = getModal();
  fadeIn(getOverlay(), 10);
  show(modal);
  addClass(modal, 'show-swal2');
  removeClass(modal, 'hide-swal2');

  window.previousActiveElement = document.activeElement;

  addClass(modal, 'visible');
};

/*
 * Set 'margin-top'-property on modal based on its computed height
 */
var fixVerticalPosition = function fixVerticalPosition() {
  var modal = getModal();

  modal.style.marginTop = getTopMargin(getModal());
};

function modalDependant() {

  if (arguments[0] === undefined) {
    window.console.error('sweetAlert2 expects at least 1 attribute!');
    return false;
  }

  var params = extend({}, defaultParams);

  switch (_typeof(arguments[0])) {

    case 'string':
      params.title = arguments[0];
      params.text = arguments[1] || '';
      params.type = arguments[2] || '';

      break;

    case 'object':
      params.title = arguments[0].title || defaultParams.title;
      params.text = arguments[0].text || defaultParams.text;
      params.html = arguments[0].html || defaultParams.html;
      params.type = arguments[0].type || defaultParams.type;
      params.animation = arguments[0].animation !== undefined ? arguments[0].animation : defaultParams.animation;
      params.customClass = arguments[0].customClass || params.customClass;
      params.allowOutsideClick = arguments[0].allowOutsideClick !== undefined ? arguments[0].allowOutsideClick : defaultParams.allowOutsideClick;
      params.allowEscapeKey = arguments[0].allowEscapeKey !== undefined ? arguments[0].allowEscapeKey : defaultParams.allowEscapeKey;
      params.showConfirmButton = arguments[0].showConfirmButton !== undefined ? arguments[0].showConfirmButton : defaultParams.showConfirmButton;
      params.showCancelButton = arguments[0].showCancelButton !== undefined ? arguments[0].showCancelButton : defaultParams.showCancelButton;
      params.preConfirm = arguments[0].preConfirm || defaultParams.preConfirm;
      params.timer = parseInt(arguments[0].timer, 10) || defaultParams.timer;
      params.width = parseInt(arguments[0].width, 10) || defaultParams.width;
      params.padding = parseInt(arguments[0].padding, 10) || defaultParams.padding;
      params.background = arguments[0].background !== undefined ? arguments[0].background : defaultParams.background;

      params.confirmButtonText = arguments[0].confirmButtonText || defaultParams.confirmButtonText;
      params.confirmButtonColor = arguments[0].confirmButtonColor || defaultParams.confirmButtonColor;
      params.confirmButtonClass = arguments[0].confirmButtonClass || params.confirmButtonClass;
      params.cancelButtonText = arguments[0].cancelButtonText || defaultParams.cancelButtonText;
      params.cancelButtonColor = arguments[0].cancelButtonColor || defaultParams.cancelButtonColor;
      params.cancelButtonClass = arguments[0].cancelButtonClass || params.cancelButtonClass;
      params.buttonsStyling = arguments[0].buttonsStyling !== undefined ? arguments[0].buttonsStyling : defaultParams.buttonsStyling;
      params.reverseButtons = arguments[0].reverseButtons !== undefined ? arguments[0].reverseButtons : defaultParams.reverseButtons;
      params.showCloseButton = arguments[0].showCloseButton !== undefined ? arguments[0].showCloseButton : defaultParams.showCloseButton;
      params.imageUrl = arguments[0].imageUrl || defaultParams.imageUrl;
      params.imageWidth = arguments[0].imageWidth || defaultParams.imageWidth;
      params.imageHeight = arguments[0].imageHeight || defaultParams.imageHeight;
      params.imageClass = arguments[0].imageClass || defaultParams.imageClass;

      params.input = arguments[0].input || defaultParams.input;
      params.inputPlaceholder = arguments[0].inputPlaceholder || defaultParams.inputPlaceholder;
      params.inputValue = arguments[0].inputValue || defaultParams.inputValue;
      params.inputOptions = arguments[0].inputOptions || defaultParams.inputOptions;
      params.inputAutoTrim = arguments[0].inputAutoTrim !== undefined ? arguments[0].inputAutoTrim : defaultParams.inputAutoTrim;
      params.inputClass = arguments[0].inputClass || defaultParams.inputClass;
      params.inputAttributes = arguments[0].inputAttributes || defaultParams.inputAttributes;
      params.inputValidator = arguments[0].inputValidator || defaultParams.inputValidator;

      params.extraParams = arguments[0].extraParams;

      if (params.input === 'email' && params.inputValidator === null) {
        params.inputValidator = function (email) {
          return new Promise(function (resolve, reject) {
            var emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
            if (emailRegex.test(email)) {
              resolve();
            } else {
              reject('Invalid email address');
            }
          });
        };
      }

      break;

    default:
      window.console.error('Unexpected type of argument! Expected "string" or "object", got ' + _typeof(arguments[0]));
      return false;

  }

  setParameters(params);
  fixVerticalPosition();
  openModal();

  // Modal interactions
  var modal = getModal();

  return new Promise(function (resolve) {
    // Close on timer
    if (params.timer) {
      modal.timeout = setTimeout(function () {
        _swal.closeModal();
        resolve(undefined);
      }, params.timer);
    }

    // input/select autofocus
    var getInput = function getInput() {
      switch (params.input) {
        case 'select':
          return getChildByClass(modal, swalClasses.select);
        case 'radio':
          return modal.querySelector('.' + swalClasses.radio + ' input:checked') || modal.querySelector('.' + swalClasses.radio + ' input:first-child');
        case 'checkbox':
          return modal.querySelector('#' + swalClasses.checkbox);
        case 'textarea':
          return getChildByClass(modal, swalClasses.textarea);
        default:
          return getChildByClass(modal, swalClasses.input);
      }
    };
    var getInputValue = function getInputValue() {
      var input = getInput();
      switch (params.input) {
        case 'checkbox':
          return input.checked ? 1 : 0;
        case 'radio':
          return input.checked ? input.value : null;
        default:
          return params.inputAutoTrim ? input.value.trim() : input.value;
      }
    };

    if (params.input) {
      setTimeout(function () {
        focusInput(getInput());
      }, 0);
    }

    var confirm = function confirm(value) {
      if (params.preConfirm) {
        params.preConfirm(value, params.extraParams).then(function (preConfirmValue) {
          resolve(preConfirmValue || value);
          _swal.closeModal();
        });
      } else {
        resolve(value);
        _swal.closeModal();
      }
    };

    // Mouse interactions
    var onButtonEvent = function onButtonEvent(event) {
      var e = event || window.event;
      var target = e.target || e.srcElement;
      var targetedConfirm = hasClass(target, swalClasses.confirm);
      var targetedCancel = hasClass(target, swalClasses.cancel);
      var modalIsVisible = hasClass(modal, 'visible');

      switch (e.type) {
        case 'mouseover':
        case 'mouseup':
        case 'focus':
          if (params.buttonsStyling) {
            if (targetedConfirm) {
              target.style.backgroundColor = colorLuminance(params.confirmButtonColor, -0.1);
            } else if (targetedCancel) {
              target.style.backgroundColor = colorLuminance(params.cancelButtonColor, -0.1);
            }
          }
          break;
        case 'mouseout':
        case 'blur':
          if (params.buttonsStyling) {
            if (targetedConfirm) {
              target.style.backgroundColor = params.confirmButtonColor;
            } else if (targetedCancel) {
              target.style.backgroundColor = params.cancelButtonColor;
            }
          }
          break;
        case 'mousedown':
          if (params.buttonsStyling) {
            if (targetedConfirm) {
              target.style.backgroundColor = colorLuminance(params.confirmButtonColor, -0.2);
            } else if (targetedCancel) {
              target.style.backgroundColor = colorLuminance(params.cancelButtonColor, -0.2);
            }
          }
          break;
        case 'click':
          // Clicked 'confirm'
          if (targetedConfirm && modalIsVisible) {

            if (params.input) {
              var inputValue = getInputValue();
              if (params.inputValidator) {
                params.inputValidator(inputValue, params.extraParams).then(function () {
                  confirm(inputValue);
                }, function (error) {
                  _swal.showValidationError(error);
                });
              } else {
                confirm(inputValue);
              }
            } else {
              confirm(true);
            }

            // Clicked 'cancel'
          } else if (targetedCancel && modalIsVisible) {

              _swal.closeModal();
              resolve(false);
            } else {
              _swal.closeModal();
            }

          break;
        default:
      }
    };

    var $buttons = modal.querySelectorAll('button');
    var i;
    for (i = 0; i < $buttons.length; i++) {
      $buttons[i].onclick = onButtonEvent;
      $buttons[i].onmouseover = onButtonEvent;
      $buttons[i].onmouseout = onButtonEvent;
      $buttons[i].onmousedown = onButtonEvent;
    }

    // Remember the current document.onclick event.
    previousDocumentClick = document.onclick;
    document.onclick = function (event) {
      var e = event || window.event;
      var target = e.target || e.srcElement;

      if (hasClass(target, swalClasses.close) || target === getOverlay() && params.allowOutsideClick) {
        _swal.closeModal();
        resolve(undefined);
      }
    };

    // Keyboard interactions
    var $confirmButton = modal.querySelector('button.' + swalClasses.confirm);
    var $cancelButton = modal.querySelector('button.' + swalClasses.cancel);
    var $modalElements = [$confirmButton, $cancelButton].concat(Array.prototype.slice.call(modal.querySelectorAll('button:not([class^=' + swalPrefix + ']), input:not([type=hidden]), textarea, select')));
    for (i = 0; i < $modalElements.length; i++) {
      $modalElements[i].onfocus = onButtonEvent;
      $modalElements[i].onblur = onButtonEvent;
    }

    // Reverse buttons if neede d
    if (params.reverseButtons) {
      $confirmButton.parentNode.insertBefore($cancelButton, $confirmButton);
    }

    function setFocus(index, increment) {
      // search for visible elements and select the next possible match
      for (var i = 0; i < $modalElements.length; i++) {
        index = index + increment;

        // rollover to first item
        if (index === $modalElements.length) {
          index = 0;

          // go to last item
        } else if (index === -1) {
            index = $modalElements.length - 1;
          }

        // determine if element is visible, the following is borrowed from jqeury $(elem).is(':visible') implementation
        if ($modalElements[index].offsetWidth || $modalElements[index].offsetHeight || $modalElements[index].getClientRects().length) {
          $modalElements[index].focus();
          return;
        }
      }
    }

    // Focus the first element (input or button)
    setFocus(-1, 1);

    function handleKeyDown(event) {
      var e = event || window.event;
      var keyCode = e.keyCode || e.which;

      if ([9, 13, 32, 27].indexOf(keyCode) === -1) {
        // Don't do work on keys we don't care about.
        return;
      }

      var $targetElement = e.target || e.srcElement;

      var btnIndex = -1; // Find the button - note, this is a nodelist, not an array.
      for (var i = 0; i < $modalElements.length; i++) {
        if ($targetElement === $modalElements[i]) {
          btnIndex = i;
          break;
        }
      }

      // TAB
      if (keyCode === 9) {
        if (!e.shiftKey) {
          // Cycle to the next button
          setFocus(btnIndex, 1);
        } else {
          // Cycle to the prev button
          setFocus(btnIndex, -1);
        }

        stopEventPropagation(e);
      } else {
        if (keyCode === 13 || keyCode === 32) {
          if (btnIndex === -1) {
            // ENTER/SPACE clicked outside of a button.
            fireClick($confirmButton, e);
          }
        } else if (keyCode === 27 && params.allowEscapeKey === true) {
          _swal.closeModal();
          resolve(undefined);
        }
      }
    }

    previousWindowKeyDown = window.onkeydown;
    window.onkeydown = handleKeyDown;

    // Loading state
    if (params.buttonsStyling) {
      $confirmButton.style.borderLeftColor = params.confirmButtonColor;
      $confirmButton.style.borderRightColor = params.confirmButtonColor;
    }

    _swal.enableLoading = function () {
      addClass($confirmButton, 'loading');
      addClass(modal, 'loading');
      $cancelButton.disabled = true;
    };

    _swal.disableLoading = function () {
      removeClass($confirmButton, 'loading');
      removeClass(modal, 'loading');
      $cancelButton.disabled = false;
    };

    _swal.enableButtons = function () {
      $confirmButton.disabled = false;
      $cancelButton.disabled = false;
    };

    _swal.disableButtons = function () {
      $confirmButton.disabled = true;
      $cancelButton.disabled = true;
    };

    _swal.showValidationError = function (error) {
      var $validationError = modal.querySelector('.' + swalClasses.validationerror);
      $validationError.innerHTML = error;
      show($validationError);

      var input = getInput();
      focusInput(input);
      addClass(input, 'error');
    };

    _swal.resetValidationError = function () {
      var $validationError = modal.querySelector('.' + swalClasses.validationerror);
      hide($validationError);

      var input = getInput();
      removeClass(input, 'error');
    };

    _swal.enableButtons();
    _swal.disableLoading();
    _swal.resetValidationError();

    window.onfocus = function () {
      // When the user has focused away and focused back from the whole window.
      window.setTimeout(function () {
        // Put in a timeout to jump out of the event sequence. Calling focus() in the event
        // sequence confuses things.
        if (lastFocusedButton !== undefined) {
          lastFocusedButton.focus();
          lastFocusedButton = undefined;
        }
      }, 0);
    };
  });
}

if (typeof window !== 'undefined') {
  window.sweetAlert = window.swal = _swal;
} else {
  console.log('SweetAlert2 is a browser module');
}

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc3dlZXRhbGVydDIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7OztBQ0dBLElBQUksVUFBSixFQUFnQixLQUFoQjs7a0JBQ2UsYUFBYSxRQUFPLGdCQUFXO0FBQzVDLE1BQUksT0FBTyxTQUFYO0FBQ0EsTUFBSSxRQUFRLFVBQVo7O0FBRUEsTUFBSSxVQUFVLElBQWQsRUFBb0I7QUFDbEIsVUFBSyxJQUFMO0FBQ0EsWUFBUSxVQUFSO0FBQ0Q7O0FBRUQsTUFBSSxTQUFTLEtBQVQsRUFBZ0IsU0FBaEIsQ0FBSixFQUFnQztBQUM5QjtBQUNEOztBQUVELFNBQU8sZUFBZSxLQUFmLENBQXFCLElBQXJCLEVBQTJCLElBQTNCLENBQVA7QUFDRCxDOzs7Ozs7O0FBS0QsSUFBSSxnQkFBZ0IsU0FBaEIsYUFBZ0IsQ0FBUyxNQUFULEVBQWlCO0FBQ25DLE1BQUksQ0FBSjtBQUNBLE1BQUksUUFBUSxVQUFaOzs7QUFHQSxRQUFNLEtBQU4sQ0FBWSxLQUFaLEdBQW9CLE9BQU8sS0FBUCxHQUFlLElBQW5DO0FBQ0EsUUFBTSxLQUFOLENBQVksT0FBWixHQUFzQixPQUFPLE9BQVAsR0FBaUIsSUFBdkM7QUFDQSxRQUFNLEtBQU4sQ0FBWSxVQUFaLEdBQXlCLENBQUMsT0FBTyxLQUFSLEdBQWdCLENBQWhCLEdBQW9CLElBQTdDO0FBQ0EsUUFBTSxLQUFOLENBQVksVUFBWixHQUF5QixPQUFPLFVBQWhDOzs7QUFHQSxNQUFJLE9BQU8sU0FBUyxvQkFBVCxDQUE4QixNQUE5QixFQUFzQyxDQUF0QyxDQUFYO0FBQ0EsTUFBSSxVQUFVLFNBQVMsYUFBVCxDQUF1QixPQUF2QixDQUFkO0FBQ0EsVUFBUSxJQUFSLEdBQWUsVUFBZjtBQUNBLFVBQVEsRUFBUixHQUFhLFlBQWI7QUFDQSxVQUFRLFNBQVIsR0FDRSxtQ0FBbUMsT0FBTyxLQUExQyxHQUFrRCxPQUFsRCxHQUNF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QXNCLFlBQVc7QUFDL0IscUJBQWUsUUFBZixHQUEwQixJQUExQjtBQUNBLG9CQUFjLFFBQWQsR0FBeUIsSUFBekI7QUFDRCxLQUhEOztBQUtBLFVBQUssbUJBQUwsR0FBMkIsVUFBUyxLQUFULEVBQWdCO0FBQ3pDLFVBQUksbUJBQW1CLE1BQU0sYUFBTixDQUFvQixNQUFNLFlBQVksZUFBdEMsQ0FBdkI7QUFDQSx1QkFBaUIsU0FBakIsR0FBNkIsS0FBN0I7QUFDQSxXQUFLLGdCQUFMOztBQUVBLFVBQUksUUFBUSxVQUFaO0FBQ0EsaUJBQVcsS0FBWDtBQUNBLGVBQVMsS0FBVCxFQUFnQixPQUFoQjtBQUNELEtBUkQ7O0FBVUEsVUFBSyxvQkFBTCxHQUE0QixZQUFXO0FBQ3JDLFVBQUksbUJBQW1CLE1BQU0sYUFBTixDQUFvQixNQUFNLFlBQVksZUFBdEMsQ0FBdkI7QUFDQSxXQUFLLGdCQUFMOztBQUVBLFVBQUksUUFBUSxVQUFaO0FBQ0Esa0JBQVksS0FBWixFQUFtQixPQUFuQjtBQUNELEtBTkQ7O0FBUUEsVUFBSyxhQUFMO0FBQ0EsVUFBSyxjQUFMO0FBQ0EsVUFBSyxvQkFBTDs7QUFFQSxXQUFPLE9BQVAsR0FBaUIsWUFBVzs7QUFFMUIsYUFBTyxVQUFQLENBQWtCLFlBQVc7OztBQUczQixZQUFJLHNCQUFzQixTQUExQixFQUFxQztBQUNuQyw0QkFBa0IsS0FBbEI7QUFDQSw4QkFBb0IsU0FBcEI7QUFDRDtBQUNGLE9BUEQsRUFPRyxDQVBIO0FBUUQsS0FWRDtBQVdELEdBbFRNLENBQVA7QUFtVEQ7O0FBRUQsSUFBSSxPQUFPLE1BQVAsS0FBa0IsV0FBdEIsRUFBbUM7QUFDakMsU0FBTyxVQUFQLEdBQW9CLE9BQU8sSUFBUCxHQUFjLEtBQWxDO0FBQ0QsQ0FGRCxNQUVPO0FBQ0wsVUFBUSxHQUFSLENBQVksaUNBQVo7QUFDRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvLyBTd2VldEFsZXJ0MlxuLy8gZ2l0aHViLmNvbS9saW1vbnRlL3N3ZWV0YWxlcnQyXG5cbnZhciBzd2VldEFsZXJ0LCBzd2FsO1xuZXhwb3J0IGRlZmF1bHQgc3dlZXRBbGVydCA9IHN3YWwgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBtb2RhbCA9IGdldE1vZGFsKCk7XG5cbiAgaWYgKG1vZGFsID09PSBudWxsKSB7XG4gICAgc3dhbC5pbml0KCk7XG4gICAgbW9kYWwgPSBnZXRNb2RhbCgpO1xuICB9XG5cbiAgaWYgKGhhc0NsYXNzKG1vZGFsLCAndmlzaWJsZScpKSB7XG4gICAgcmVzZXRQcmV2U3RhdGUoKTtcbiAgfVxuXG4gIHJldHVybiBtb2RhbERlcGVuZGFudC5hcHBseSh0aGlzLCBhcmdzKTtcbn1cblxuLypcbiAqIFNldCB0eXBlLCB0ZXh0IGFuZCBhY3Rpb25zIG9uIG1vZGFsXG4gKi9cbnZhciBzZXRQYXJhbWV0ZXJzID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHZhciBpO1xuICB2YXIgbW9kYWwgPSBnZXRNb2RhbCgpO1xuXG4gIC8vIHNldCBtb2RhbCB3aWR0aCwgcGFkZGluZyBhbmQgbWFyZ2luLWxlZnRcbiAgbW9kYWwuc3R5bGUud2lkdGggPSBwYXJhbXMud2lkdGggKyAncHgnO1xuICBtb2RhbC5zdHlsZS5wYWRkaW5nID0gcGFyYW1zLnBhZGRpbmcgKyAncHgnO1xuICBtb2RhbC5zdHlsZS5tYXJnaW5MZWZ0ID0gLXBhcmFtcy53aWR0aCAvIDIgKyAncHgnO1xuICBtb2RhbC5zdHlsZS5iYWNrZ3JvdW5kID0gcGFyYW1zLmJhY2tncm91bmQ7XG5cbiAgLy8gYWRkIGR5bmFtaWMgbWVkaWEgcXVlcnkgY3NzXG4gIHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBjc3NOb2RlLnR5cGUgPSAndGV4dC9jc3MnO1xuICBjc3NOb2RlLmlkID0gbWVkaWFxdWVyeUlkO1xuICBjc3NOb2RlLmlubmVySFRNTCA9XG4gICAgJ0BtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6ICcgKyBwYXJhbXMud2lkdGggKyAncHgpIHsnICtcbiAgICAgICcuJyArIHN3YWxDbGFzc2VzLm1vZGFsICsgJyB7JyArXG4gICAgICAgICdtYXgtd2lkdGg6IDEwMCU7JyArXG4gICAgICAgICdsZWZ0OiAwICFpbXBvcnRhbnQ7JyArXG4gICAgICAgICdtYXJnaW4tbGVmdDogMCAhaW1wb3J0YW50OycgK1xuICAgICAgJ30nICtcbiAgICAnfSc7XG4gIGhlYWQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cbiAgdmFyICR0aXRsZSA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2gyJyk7XG4gIHZhciAkY29udGVudCA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy4nICsgc3dhbENsYXNzZXMuY29udGVudCk7XG4gIHZhciAkY29uZmlybUJ0biA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi4nICsgc3dhbENsYXNzZXMuY29uZmlybSk7XG4gIHZhciAkY2FuY2VsQnRuID0gbW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uLicgKyBzd2FsQ2xhc3Nlcy5jYW5jZWwpO1xuICB2YXIgJHNwYWNlciA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy4nICsgc3dhbENsYXNzZXMuc3BhY2VyKTtcbiAgdmFyICRjbG9zZUJ1dHRvbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy4nICsgc3dhbENsYXNzZXMuY2xvc2UpO1xuXG4gIC8vIFRpdGxlXG4gICR0aXRsZS5pbm5lckhUTUwgPSBwYXJhbXMudGl0bGUuc3BsaXQoJ1xcbicpLmpvaW4oJzxicj4nKTtcblxuICAvLyBDb250ZW50XG4gIGlmIChwYXJhbXMudGV4dCB8fCBwYXJhbXMuaHRtbCkge1xuICAgIGlmICh0eXBlb2YgcGFyYW1zLmh0bWwgPT09ICdvYmplY3QnKSB7XG4gICAgICAkY29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmICgwIGluIHBhcmFtcy5odG1sKSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgaW4gcGFyYW1zLmh0bWw7IGkrKykge1xuICAgICAgICAgICRjb250ZW50LmFwcGVuZENoaWxkKHBhcmFtcy5odG1sW2ldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGNvbnRlbnQuYXBwZW5kQ2hpbGQocGFyYW1zLmh0bWwpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAkY29udGVudC5pbm5lckhUTUwgPSBwYXJhbXMuaHRtbCB8fCAocGFyYW1zLnRleHQuc3BsaXQoJ1xcbicpLmpvaW4oJzxicj4nKSk7XG4gICAgfVxuICAgIHNob3coJGNvbnRlbnQpO1xuICB9IGVsc2Uge1xuICAgIGhpZGUoJGNvbnRlbnQpO1xuICB9XG5cbiAgLy8gQ2xvc2UgYnV0dG9uXG4gIGlmIChwYXJhbXMuc2hvd0Nsb3NlQnV0dG9uKSB7XG4gICAgc2hvdygkY2xvc2VCdXR0b24pO1xuICB9IGVsc2Uge1xuICAgIGhpZGUoJGNsb3NlQnV0dG9uKTtcbiAgfVxuXG4gIC8vIEN1c3RvbSBDbGFzc1xuICBtb2RhbC5jbGFzc05hbWUgPSBzd2FsQ2xhc3Nlcy5tb2RhbDtcbiAgaWYgKHBhcmFtcy5jdXN0b21DbGFzcykge1xuICAgIGFkZENsYXNzKG1vZGFsLCBwYXJhbXMuY3VzdG9tQ2xhc3MpO1xuICB9XG5cbiAgLy8gSWNvblxuICBoaWRlKG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgc3dhbENsYXNzZXMuaWNvbikpO1xuICBpZiAocGFyYW1zLnR5cGUpIHtcbiAgICB2YXIgdmFsaWRUeXBlID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaWNvblR5cGUgaW4gc3dhbENsYXNzZXMuaWNvblR5cGVzKSB7XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09IGljb25UeXBlKSB7XG4gICAgICAgIHZhbGlkVHlwZSA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXZhbGlkVHlwZSkge1xuICAgICAgd2luZG93LmNvbnNvbGUuZXJyb3IoJ1Vua25vd24gYWxlcnQgdHlwZTogJyArIHBhcmFtcy50eXBlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyICRpY29uID0gbW9kYWwucXVlcnlTZWxlY3RvcignLicgKyBzd2FsQ2xhc3Nlcy5pY29uICsgJy4nICsgc3dhbENsYXNzZXMuaWNvblR5cGVzW3BhcmFtcy50eXBlXSk7XG4gICAgc2hvdygkaWNvbik7XG5cbiAgICAvLyBBbmltYXRlIGljb25cbiAgICBzd2l0Y2ggKHBhcmFtcy50eXBlKSB7XG4gICAgICBjYXNlICdzdWNjZXNzJzpcbiAgICAgICAgYWRkQ2xhc3MoJGljb24sICdhbmltYXRlJyk7XG4gICAgICAgIGFkZENsYXNzKCRpY29uLnF1ZXJ5U2VsZWN0b3IoJy50aXAnKSwgJ2FuaW1hdGUtc3VjY2Vzcy10aXAnKTtcbiAgICAgICAgYWRkQ2xhc3MoJGljb24ucXVlcnlTZWxlY3RvcignLmxvbmcnKSwgJ2FuaW1hdGUtc3VjY2Vzcy1sb25nJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICBhZGRDbGFzcygkaWNvbiwgJ2FuaW1hdGUtZXJyb3ItaWNvbicpO1xuICAgICAgICBhZGRDbGFzcygkaWNvbi5xdWVyeVNlbGVjdG9yKCcueC1tYXJrJyksICdhbmltYXRlLXgtbWFyaycpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3dhcm5pbmcnOlxuICAgICAgICBhZGRDbGFzcygkaWNvbiwgJ3B1bHNlLXdhcm5pbmcnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgfVxuXG4gIC8vIEN1c3RvbSBpbWFnZVxuICB2YXIgJGN1c3RvbUltYWdlID0gbW9kYWwucXVlcnlTZWxlY3RvcignLicgKyBzd2FsQ2xhc3Nlcy5pbWFnZSk7XG4gIGlmIChwYXJhbXMuaW1hZ2VVcmwpIHtcbiAgICAkY3VzdG9tSW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBwYXJhbXMuaW1hZ2VVcmwpO1xuICAgIHNob3coJGN1c3RvbUltYWdlKTtcblxuICAgIGlmIChwYXJhbXMuaW1hZ2VXaWR0aCkge1xuICAgICAgJGN1c3RvbUltYWdlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBwYXJhbXMuaW1hZ2VXaWR0aCk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5pbWFnZUhlaWdodCkge1xuICAgICAgJGN1c3RvbUltYWdlLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgcGFyYW1zLmltYWdlSGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmltYWdlQ2xhc3MpIHtcbiAgICAgIGFkZENsYXNzKCRjdXN0b21JbWFnZSwgcGFyYW1zLmltYWdlQ2xhc3MpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBoaWRlKCRjdXN0b21JbWFnZSk7XG4gIH1cblxuICAvLyBpbnB1dCwgc2VsZWN0XG4gIHZhciBpbnB1dFR5cGVzID0gWydpbnB1dCcsICdzZWxlY3QnLCAncmFkaW8nLCAnY2hlY2tib3gnLCAndGV4dGFyZWEnXTtcbiAgdmFyIGlucHV0O1xuICBmb3IgKGkgPSAwOyBpIDwgaW5wdXRUeXBlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpbnB1dENsYXNzID0gc3dhbENsYXNzZXNbaW5wdXRUeXBlc1tpXV07XG4gICAgaW5wdXQgPSBnZXRDaGlsZEJ5Q2xhc3MobW9kYWwsIGlucHV0Q2xhc3MpO1xuXG4gICAgLy8gc2V0IGF0dHJpYnV0ZXNcbiAgICB3aGlsZSAoaW5wdXQuYXR0cmlidXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICBpbnB1dC5yZW1vdmVBdHRyaWJ1dGUoaW5wdXQuYXR0cmlidXRlc1swXS5uYW1lKTtcbiAgICB9XG4gICAgZm9yICh2YXIgYXR0ciBpbiBwYXJhbXMuaW5wdXRBdHRyaWJ1dGVzKSB7XG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoYXR0ciwgcGFyYW1zLmlucHV0QXR0cmlidXRlc1thdHRyXSk7XG4gICAgfVxuXG4gICAgLy8gc2V0IGNsYXNzXG4gICAgaW5wdXQuY2xhc3NOYW1lID0gaW5wdXRDbGFzcztcbiAgICBpZiAocGFyYW1zLmlucHV0Q2xhc3MpIHtcbiAgICAgIGFkZENsYXNzKGlucHV0LCBwYXJhbXMuaW5wdXRDbGFzcyk7XG4gICAgfVxuXG4gICAgX2hpZGUoaW5wdXQpO1xuICB9XG4gIHN3aXRjaCAocGFyYW1zLmlucHV0KSB7XG4gICAgY2FzZSAndGV4dCc6XG4gICAgY2FzZSAnZW1haWwnOlxuICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgIGlucHV0ID0gZ2V0Q2hpbGRCeUNsYXNzKG1vZGFsLCBzd2FsQ2xhc3Nlcy5pbnB1dCk7XG4gICAgICBpbnB1dC52YWx1ZSA9IHBhcmFtcy5pbnB1dFZhbHVlO1xuICAgICAgaW5wdXQucGxhY2Vob2xkZXIgPSBwYXJhbXMuaW5wdXRQbGFjZWhvbGRlcjtcbiAgICAgIGlucHV0LnR5cGUgPSBwYXJhbXMuaW5wdXQ7XG4gICAgICBfc2hvdyhpbnB1dCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgdmFyIHNlbGVjdCA9IGdldENoaWxkQnlDbGFzcyhtb2RhbCwgc3dhbENsYXNzZXMuc2VsZWN0KTtcbiAgICAgIHNlbGVjdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmIChwYXJhbXMuaW5wdXRQbGFjZWhvbGRlcikge1xuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gcGFyYW1zLmlucHV0UGxhY2Vob2xkZXI7XG4gICAgICAgIHBsYWNlaG9sZGVyLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgcGxhY2Vob2xkZXIuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQocGxhY2Vob2xkZXIpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgb3B0aW9uVmFsdWUgaW4gcGFyYW1zLmlucHV0T3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IG9wdGlvblZhbHVlO1xuICAgICAgICBvcHRpb24uaW5uZXJIVE1MID0gcGFyYW1zLmlucHV0T3B0aW9uc1tvcHRpb25WYWx1ZV07XG4gICAgICAgIGlmIChwYXJhbXMuaW5wdXRWYWx1ZSA9PT0gb3B0aW9uVmFsdWUpIHtcbiAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgfVxuICAgICAgX3Nob3coc2VsZWN0KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgIHZhciByYWRpbyA9IGdldENoaWxkQnlDbGFzcyhtb2RhbCwgc3dhbENsYXNzZXMucmFkaW8pO1xuICAgICAgcmFkaW8uaW5uZXJIVE1MID0gJyc7XG4gICAgICBmb3IgKHZhciByYWRpb1ZhbHVlIGluIHBhcmFtcy5pbnB1dE9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGlkID0gMTtcbiAgICAgICAgdmFyIHJhZGlvSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICB2YXIgcmFkaW9MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIHZhciByYWRpb0xhYmVsU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgcmFkaW9JbnB1dC50eXBlID0gJ3JhZGlvJztcbiAgICAgICAgcmFkaW9JbnB1dC5uYW1lID0gc3dhbENsYXNzZXMucmFkaW87XG4gICAgICAgIHJhZGlvSW5wdXQudmFsdWUgPSByYWRpb1ZhbHVlO1xuICAgICAgICByYWRpb0lucHV0LmlkID0gc3dhbENsYXNzZXMucmFkaW8gKyAnLScgKyAoaWQrKyk7XG4gICAgICAgIGlmIChwYXJhbXMuaW5wdXRWYWx1ZSA9PT0gcmFkaW9WYWx1ZSkge1xuICAgICAgICAgIHJhZGlvSW5wdXQuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmFkaW9MYWJlbFNwYW4uaW5uZXJIVE1MID0gcGFyYW1zLmlucHV0T3B0aW9uc1tyYWRpb1ZhbHVlXTtcbiAgICAgICAgcmFkaW9MYWJlbC5hcHBlbmRDaGlsZChyYWRpb0lucHV0KTtcbiAgICAgICAgcmFkaW9MYWJlbC5hcHBlbmRDaGlsZChyYWRpb0xhYmVsU3Bhbik7XG4gICAgICAgIHJhZGlvTGFiZWwuZm9yID0gcmFkaW9JbnB1dC5pZDtcbiAgICAgICAgcmFkaW8uYXBwZW5kQ2hpbGQocmFkaW9MYWJlbCk7XG4gICAgICB9XG4gICAgICBfc2hvdyhyYWRpbyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICB2YXIgY2hlY2tib3ggPSBnZXRDaGlsZEJ5Q2xhc3MobW9kYWwsIHN3YWxDbGFzc2VzLmNoZWNrYm94KTtcbiAgICAgIHZhciBjaGVja2JveElucHV0ID0gbW9kYWwucXVlcnlTZWxlY3RvcignIycgKyBzd2FsQ2xhc3Nlcy5jaGVja2JveCk7XG4gICAgICBjaGVja2JveElucHV0LnZhbHVlID0gMTtcbiAgICAgIGNoZWNrYm94SW5wdXQuY2hlY2tlZCA9IEJvb2xlYW4ocGFyYW1zLmlucHV0VmFsdWUpO1xuICAgICAgdmFyIGxhYmVsID0gY2hlY2tib3guZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NwYW4nKTtcbiAgICAgIGlmIChsYWJlbC5sZW5ndGgpIHtcbiAgICAgICAgY2hlY2tib3gucmVtb3ZlQ2hpbGQobGFiZWxbMF0pO1xuICAgICAgfVxuICAgICAgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBsYWJlbC5pbm5lckhUTUwgPSBwYXJhbXMuaW5wdXRQbGFjZWhvbGRlcjtcbiAgICAgIGNoZWNrYm94LmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgIF9zaG93KGNoZWNrYm94KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIHZhciB0ZXh0YXJlYSA9IGdldENoaWxkQnlDbGFzcyhtb2RhbCwgc3dhbENsYXNzZXMudGV4dGFyZWEpO1xuICAgICAgdGV4dGFyZWEudmFsdWUgPSBwYXJhbXMuaW5wdXRWYWx1ZTtcbiAgICAgIHRleHRhcmVhLnBsYWNlaG9sZGVyID0gcGFyYW1zLmlucHV0UGxhY2Vob2xkZXI7XG4gICAgICBfc2hvdyh0ZXh0YXJlYSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIG51bGw6XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgd2luZG93LmNvbnNvbGUuZXJyb3IoJ1VuZXhwZWN0ZWQgdHlwZSBvZiBpbnB1dCEgRXhwZWN0ZWQgXCJ0ZXh0XCIgb3IgXCJlbWFpbFwiIG9yIFwicGFzc3dvcmRcIiwgXCJzZWxlY3RcIiwgXCJjaGVja2JveFwiIG9yIFwidGV4dGFyZWFcIiwgZ290ICcgKyB0eXBlb2YgYXJndW1lbnRzWzBdKTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgLy8gQ2FuY2VsIGJ1dHRvblxuICBpZiAocGFyYW1zLnNob3dDYW5jZWxCdXR0b24pIHtcbiAgICAkY2FuY2VsQnRuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgfSBlbHNlIHtcbiAgICBoaWRlKCRjYW5jZWxCdG4pO1xuICB9XG5cbiAgLy8gQ29uZmlybSBidXR0b25cbiAgaWYgKHBhcmFtcy5zaG93Q29uZmlybUJ1dHRvbikge1xuICAgIHJlbW92ZVN0eWxlUHJvcGVydHkoJGNvbmZpcm1CdG4sICdkaXNwbGF5Jyk7XG4gIH0gZWxzZSB7XG4gICAgaGlkZSgkY29uZmlybUJ0bik7XG4gIH1cblxuICAvLyBCdXR0b25zIHNwYWNlclxuICBpZiAoIXBhcmFtcy5zaG93Q29uZmlybUJ1dHRvbiAmJiAhcGFyYW1zLnNob3dDYW5jZWxCdXR0b24pIHtcbiAgICBoaWRlKCRzcGFjZXIpO1xuICB9IGVsc2Uge1xuICAgIHNob3coJHNwYWNlcik7XG4gIH1cblxuICAvLyBFZGl0IHRleHQgb24gY2FuY2VsIGFuZCBjb25maXJtIGJ1dHRvbnNcbiAgJGNvbmZpcm1CdG4uaW5uZXJIVE1MID0gcGFyYW1zLmNvbmZpcm1CdXR0b25UZXh0O1xuICAkY2FuY2VsQnRuLmlubmVySFRNTCA9IHBhcmFtcy5jYW5jZWxCdXR0b25UZXh0O1xuXG4gIC8vIFNldCBidXR0b25zIHRvIHNlbGVjdGVkIGJhY2tncm91bmQgY29sb3JzXG4gIGlmIChwYXJhbXMuYnV0dG9uc1N0eWxpbmcpIHtcbiAgICAkY29uZmlybUJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBwYXJhbXMuY29uZmlybUJ1dHRvbkNvbG9yO1xuICAgICRjYW5jZWxCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gcGFyYW1zLmNhbmNlbEJ1dHRvbkNvbG9yO1xuICB9XG5cbiAgLy8gQWRkIGJ1dHRvbnMgY3VzdG9tIGNsYXNzZXNcbiAgJGNvbmZpcm1CdG4uY2xhc3NOYW1lID0gc3dhbENsYXNzZXMuY29uZmlybTtcbiAgYWRkQ2xhc3MoJGNvbmZpcm1CdG4sIHBhcmFtcy5jb25maXJtQnV0dG9uQ2xhc3MpO1xuICAkY2FuY2VsQnRuLmNsYXNzTmFtZSA9IHN3YWxDbGFzc2VzLmNhbmNlbDtcbiAgYWRkQ2xhc3MoJGNhbmNlbEJ0biwgcGFyYW1zLmNhbmNlbEJ1dHRvbkNsYXNzKTtcblxuICAvLyBCdXR0b25zIHN0eWxpbmdcbiAgaWYgKHBhcmFtcy5idXR0b25zU3R5bGluZykge1xuICAgIGFkZENsYXNzKCRjb25maXJtQnRuLCAnc3R5bGVkJyk7XG4gICAgYWRkQ2xhc3MoJGNhbmNlbEJ0biwgJ3N0eWxlZCcpO1xuICB9IGVsc2Uge1xuICAgIHJlbW92ZUNsYXNzKCRjb25maXJtQnRuLCAnc3R5bGVkJyk7XG4gICAgcmVtb3ZlQ2xhc3MoJGNhbmNlbEJ0biwgJ3N0eWxlZCcpO1xuXG4gICAgJGNvbmZpcm1CdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJGNvbmZpcm1CdG4uc3R5bGUuYm9yZGVyTGVmdENvbG9yID0gJGNvbmZpcm1CdG4uc3R5bGUuYm9yZGVyUmlnaHRDb2xvciA9ICcnO1xuICAgICRjYW5jZWxCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJGNhbmNlbEJ0bi5zdHlsZS5ib3JkZXJMZWZ0Q29sb3IgPSAkY2FuY2VsQnRuLnN0eWxlLmJvcmRlclJpZ2h0Q29sb3IgPSAnJztcbiAgfVxuXG4gIC8vIENTUyBhbmltYXRpb25cbiAgaWYgKHBhcmFtcy5hbmltYXRpb24gPT09IHRydWUpIHtcbiAgICByZW1vdmVDbGFzcyhtb2RhbCwgJ25vLWFuaW1hdGlvbicpO1xuICB9IGVsc2Uge1xuICAgIGFkZENsYXNzKG1vZGFsLCAnbm8tYW5pbWF0aW9uJyk7XG4gIH1cbn07XG5cbi8qXG4gKiBHbG9iYWwgZnVuY3Rpb24gdG8gY2xpY2sgJ0NhbmNlbCcgYnV0dG9uXG4gKi9cbnN3ZWV0QWxlcnQuY2xpY2tDYW5jZWwgPSBzd2FsLmNsaWNrQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gIHZhciBtb2RhbCA9IGdldE1vZGFsKCk7XG4gIHZhciAkY2FuY2VsQnV0dG9uID0gbW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uLicgKyBzd2FsQ2xhc3Nlcy5jYW5jZWwpO1xuICAkY2FuY2VsQnV0dG9uLmNsaWNrKCk7XG59O1xuXG4vKlxuICogR2xvYmFsIGZ1bmN0aW9uIHRvIGNsaWNrICdDb25maXJtJyBidXR0b25cbiAqL1xuc3dlZXRBbGVydC5jbGlja0NvbmZpcm0gPSBzd2FsLmNsaWNrQ29uZmlybSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbW9kYWwgPSBnZXRNb2RhbCgpO1xuICB2YXIgJGNvbmZpcm1CdXR0b24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b24uJyArIHN3YWxDbGFzc2VzLmNvbmZpcm0pO1xuICAkY29uZmlybUJ1dHRvbi5jbGljaygpO1xufTtcblxuLypcbiAqIEFkZCBtb2RhbCArIG92ZXJsYXkgdG8gRE9NXG4gKi9cbnN3YWwuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShzd2FsQ2xhc3Nlcy5jb250YWluZXIpLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBzd2VldEhUTUwgPVxuICAgICc8ZGl2IGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLm92ZXJsYXkgKyAnXCIgdGFiSW5kZXg9XCItMVwiPjwvZGl2PicgK1xuICAgICc8ZGl2IGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLm1vZGFsICsgJ1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZVwiIHRhYkluZGV4PVwiLTFcIj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLmljb24gKyAnICcgKyBzd2FsQ2xhc3Nlcy5pY29uVHlwZXMuZXJyb3IgKyAnXCI+JyArXG4gICAgICAgICc8c3BhbiBjbGFzcz1cIngtbWFya1wiPjxzcGFuIGNsYXNzPVwibGluZSBsZWZ0XCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwibGluZSByaWdodFwiPjwvc3Bhbj48L3NwYW4+JyArXG4gICAgICAnPC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cIicgKyBzd2FsQ2xhc3Nlcy5pY29uICsgJyAnICsgc3dhbENsYXNzZXMuaWNvblR5cGVzLnF1ZXN0aW9uICsgJ1wiPj88L2Rpdj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLmljb24gKyAnICcgKyBzd2FsQ2xhc3Nlcy5pY29uVHlwZXMud2FybmluZyArICdcIj4hPC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cIicgKyBzd2FsQ2xhc3Nlcy5pY29uICsgJyAnICsgc3dhbENsYXNzZXMuaWNvblR5cGVzLmluZm8gKyAnXCI+aTwvZGl2PicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCInICsgc3dhbENsYXNzZXMuaWNvbiArICcgJyArIHN3YWxDbGFzc2VzLmljb25UeXBlcy5zdWNjZXNzICsgJ1wiPicgK1xuICAgICAgICAnPHNwYW4gY2xhc3M9XCJsaW5lIHRpcFwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJsaW5lIGxvbmdcIj48L3NwYW4+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwicGxhY2Vob2xkZXJcIj48L2Rpdj4gPGRpdiBjbGFzcz1cImZpeFwiPjwvZGl2PicgK1xuICAgICAgJzwvZGl2PicgK1xuICAgICAgJzxpbWcgY2xhc3M9XCInICsgc3dhbENsYXNzZXMuaW1hZ2UgKyAnXCI+JyArXG4gICAgICAnPGgyPjwvaDI+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cIicgKyBzd2FsQ2xhc3Nlcy5jb250ZW50ICsgJ1wiPjwvZGl2PicgK1xuICAgICAgJzxpbnB1dCBjbGFzcz1cIicgKyBzd2FsQ2xhc3Nlcy5pbnB1dCArICdcIj4nICtcbiAgICAgICc8c2VsZWN0IGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLnNlbGVjdCArICdcIj48L3NlbGVjdD4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLnJhZGlvICsgJ1wiPjwvZGl2PicgK1xuICAgICAgJzxsYWJlbCBmb3I9XCInICsgc3dhbENsYXNzZXMuY2hlY2tib3ggKyAnXCIgY2xhc3M9XCInICsgc3dhbENsYXNzZXMuY2hlY2tib3ggKyAnXCI+JyArXG4gICAgICAgICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCInICsgc3dhbENsYXNzZXMuY2hlY2tib3ggKyAnXCI+JyArXG4gICAgICAnPC9sYWJlbD4nICtcbiAgICAgICc8dGV4dGFyZWEgY2xhc3M9XCInICsgc3dhbENsYXNzZXMudGV4dGFyZWEgKyAnXCI+PC90ZXh0YXJlYT4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLnZhbGlkYXRpb25lcnJvciArICdcIj48L2Rpdj4nICtcbiAgICAgICc8aHIgY2xhc3M9XCInICsgc3dhbENsYXNzZXMuc3BhY2VyICsgJ1wiPicgK1xuICAgICAgJzxidXR0b24gY2xhc3M9XCInICsgc3dhbENsYXNzZXMuY29uZmlybSArICdcIj5PSzwvYnV0dG9uPicgK1xuICAgICAgJzxidXR0b24gY2xhc3M9XCInICsgc3dhbENsYXNzZXMuY2FuY2VsICsgJ1wiPkNhbmNlbDwvYnV0dG9uPicgK1xuICAgICAgJzxzcGFuIGNsYXNzPVwiJyArIHN3YWxDbGFzc2VzLmNsb3NlICsgJ1wiPiZ0aW1lczs8L3NwYW4+JyArXG4gICAgJzwvZGl2Pic7XG4gIHZhciBzd2VldFdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc3dlZXRXcmFwLmNsYXNzTmFtZSA9IHN3YWxDbGFzc2VzLmNvbnRhaW5lcjtcblxuICBzd2VldFdyYXAuaW5uZXJIVE1MID0gc3dlZXRIVE1MO1xuXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3dlZXRXcmFwKTtcblxuICB2YXIgbW9kYWwgPSBnZXRNb2RhbCgpO1xuICB2YXIgJGlucHV0ID0gZ2V0Q2hpbGRCeUNsYXNzKG1vZGFsLCBzd2FsQ2xhc3Nlcy5pbnB1dCk7XG4gIHZhciAkc2VsZWN0ID0gZ2V0Q2hpbGRCeUNsYXNzKG1vZGFsLCBzd2FsQ2xhc3Nlcy5zZWxlY3QpO1xuICB2YXIgJGNoZWNrYm94ID0gbW9kYWwucXVlcnlTZWxlY3RvcignIycgKyBzd2FsQ2xhc3Nlcy5jaGVja2JveCk7XG4gIHZhciAkdGV4dGFyZWEgPSBnZXRDaGlsZEJ5Q2xhc3MobW9kYWwsIHN3YWxDbGFzc2VzLnRleHRhcmVhKTtcblxuICAkaW5wdXQub25pbnB1dCA9IGZ1bmN0aW9uKCkge1xuICAgIHN3YWwucmVzZXRWYWxpZGF0aW9uRXJyb3IoKTtcbiAgfTtcblxuICAkaW5wdXQub25rZXl1cCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICBzd2FsLmNsaWNrQ29uZmlybSgpO1xuICAgIH1cbiAgfTtcblxuICAkc2VsZWN0Lm9uY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgc3dhbC5yZXNldFZhbGlkYXRpb25FcnJvcigpO1xuICB9O1xuXG4gICRjaGVja2JveC5vbmNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgIHN3YWwucmVzZXRWYWxpZGF0aW9uRXJyb3IoKTtcbiAgfTtcblxuICAkdGV4dGFyZWEub25jaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICBzd2FsLnJlc2V0VmFsaWRhdGlvbkVycm9yKCk7XG4gIH07XG59O1xuXG4vKipcbiAqIFNldCBkZWZhdWx0IHBhcmFtcyBmb3IgZWFjaCBwb3B1cFxuICogQHBhcmFtIHtPYmplY3R9IHVzZXJQYXJhbXNcbiAqL1xuc3dhbC5zZXREZWZhdWx0cyA9IGZ1bmN0aW9uKHVzZXJQYXJhbXMpIHtcbiAgaWYgKCF1c2VyUGFyYW1zKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VyUGFyYW1zIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgaWYgKHR5cGVvZiB1c2VyUGFyYW1zICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlclBhcmFtcyBoYXMgdG8gYmUgYSBvYmplY3QnKTtcbiAgfVxuXG4gIGV4dGVuZChkZWZhdWx0UGFyYW1zLCB1c2VyUGFyYW1zKTtcbn07XG5cbi8qXG4gKiBHbG9iYWwgZnVuY3Rpb24gdG8gY2xvc2Ugc3dlZXRBbGVydFxuICovXG5zd2VldEFsZXJ0LmNsb3NlID0gc3dhbC5jbG9zZSA9IHN3ZWV0QWxlcnQuY2xvc2VNb2RhbCA9IHN3YWwuY2xvc2VNb2RhbCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbW9kYWwgPSBnZXRNb2RhbCgpO1xuICBfaGlkZShnZXRPdmVybGF5KCkpO1xuICBfaGlkZShtb2RhbCk7XG4gIHJlbW92ZUNsYXNzKG1vZGFsLCAnc2hvdy1zd2FsMicpO1xuICBhZGRDbGFzcyhtb2RhbCwgJ2hpZGUtc3dhbDInKTtcbiAgcmVtb3ZlQ2xhc3MobW9kYWwsICd2aXNpYmxlJyk7XG5cbiAgLy8gUmVzZXQgaWNvbiBhbmltYXRpb25zXG5cbiAgdmFyICRzdWNjZXNzSWNvbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy4nICsgc3dhbENsYXNzZXMuaWNvbiArICcuJyArIHN3YWxDbGFzc2VzLmljb25UeXBlcy5zdWNjZXNzKTtcbiAgcmVtb3ZlQ2xhc3MoJHN1Y2Nlc3NJY29uLCAnYW5pbWF0ZScpO1xuICByZW1vdmVDbGFzcygkc3VjY2Vzc0ljb24ucXVlcnlTZWxlY3RvcignLnRpcCcpLCAnYW5pbWF0ZS1zdWNjZXNzLXRpcCcpO1xuICByZW1vdmVDbGFzcygkc3VjY2Vzc0ljb24ucXVlcnlTZWxlY3RvcignLmxvbmcnKSwgJ2FuaW1hdGUtc3VjY2Vzcy1sb25nJyk7XG5cbiAgdmFyICRlcnJvckljb24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuJyArIHN3YWxDbGFzc2VzLmljb24gKyAnLicgKyBzd2FsQ2xhc3Nlcy5pY29uVHlwZXMuZXJyb3IpO1xuICByZW1vdmVDbGFzcygkZXJyb3JJY29uLCAnYW5pbWF0ZS1lcnJvci1pY29uJyk7XG4gIHJlbW92ZUNsYXNzKCRlcnJvckljb24ucXVlcnlTZWxlY3RvcignLngtbWFyaycpLCAnYW5pbWF0ZS14LW1hcmsnKTtcblxuICB2YXIgJHdhcm5pbmdJY29uID0gbW9kYWwucXVlcnlTZWxlY3RvcignLicgKyBzd2FsQ2xhc3Nlcy5pY29uICsgJy4nICsgc3dhbENsYXNzZXMuaWNvblR5cGVzLndhcm5pbmcpO1xuICByZW1vdmVDbGFzcygkd2FybmluZ0ljb24sICdwdWxzZS13YXJuaW5nJyk7XG5cbiAgcmVzZXRQcmV2U3RhdGUoKTtcbn07XG5cbnZhciBzd2FsUHJlZml4ID0nc3dhbDItJztcbi8vIHdpbmRvdy5zd2FsUHJlZml4ID0gJ3N3YWwyLSc7XG52YXIgcHJlZml4ID0gZnVuY3Rpb24oaXRlbXMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmb3IgKHZhciBpIGluIGl0ZW1zKSB7XG4gICAgcmVzdWx0W2l0ZW1zW2ldXSA9IHN3YWxQcmVmaXggKyBpdGVtc1tpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gd2luZG93LnN3YWxDbGFzc2VzID0gcHJlZml4KFtcbnZhciBzd2FsQ2xhc3NlcyA9IHByZWZpeChbXG4gICdjb250YWluZXInLCAnbW9kYWwnLCAnb3ZlcmxheScsICdjbG9zZScsICdjb250ZW50JywgJ3NwYWNlcicsICdjb25maXJtJywgJ2NhbmNlbCcsICdpY29uJywgJ2ltYWdlJyxcbiAgJ2lucHV0JywgJ3NlbGVjdCcsICdyYWRpbycsICdjaGVja2JveCcsICd0ZXh0YXJlYScsICd2YWxpZGF0aW9uZXJyb3InXG5dKTtcblxuLy8gd2luZG93LnN3YWxDbGFzc2VzLmljb25UeXBlcyA9IHByZWZpeChbJ3N1Y2Nlc3MnLCAnd2FybmluZycsICdpbmZvJywgJ3F1ZXN0aW9uJywgJ2Vycm9yJ10pO1xuc3dhbENsYXNzZXMuaWNvblR5cGVzID0gcHJlZml4KFsnc3VjY2VzcycsICd3YXJuaW5nJywgJ2luZm8nLCAncXVlc3Rpb24nLCAnZXJyb3InXSk7XG5cbnZhciBtZWRpYXF1ZXJ5SWQgPSBzd2FsUHJlZml4ICsgJ21lZGlhcXVlcnknO1xudmFyIGRlZmF1bHRQYXJhbXMgPSB7XG4gIHRpdGxlOiAnJyxcbiAgdGV4dDogJycsXG4gIGh0bWw6ICcnLFxuICB0eXBlOiBudWxsLFxuICBhbmltYXRpb246IHRydWUsXG4gIGFsbG93T3V0c2lkZUNsaWNrOiB0cnVlLFxuICBhbGxvd0VzY2FwZUtleTogdHJ1ZSxcbiAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsXG4gIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLFxuICBwcmVDb25maXJtOiBudWxsLFxuICBjb25maXJtQnV0dG9uVGV4dDogJ09LJyxcbiAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsXG4gIGNvbmZpcm1CdXR0b25DbGFzczogbnVsbCxcbiAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbCcsXG4gIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2FhYScsXG4gIGNhbmNlbEJ1dHRvbkNsYXNzOiBudWxsLFxuICBidXR0b25zU3R5bGluZzogdHJ1ZSxcbiAgcmV2ZXJzZUJ1dHRvbnM6IGZhbHNlLFxuICBzaG93Q2xvc2VCdXR0b246IGZhbHNlLFxuICBpbWFnZVVybDogbnVsbCxcbiAgaW1hZ2VXaWR0aDogbnVsbCxcbiAgaW1hZ2VIZWlnaHQ6IG51bGwsXG4gIGltYWdlQ2xhc3M6IG51bGwsXG4gIHRpbWVyOiBudWxsLFxuICB3aWR0aDogNTAwLFxuICBwYWRkaW5nOiAyMCxcbiAgYmFja2dyb3VuZDogJyNmZmYnLFxuICBpbnB1dDogbnVsbCwgLy8gJ3RleHQnIHwgJ2VtYWlsJyB8ICdwYXNzd29yZCcgfCAnc2VsZWN0JyB8ICdyYWRpbycgfCAnY2hlY2tib3gnIHwgJ3RleHRhcmVhJ1xuICBpbnB1dFBsYWNlaG9sZGVyOiAnJyxcbiAgaW5wdXRWYWx1ZTogJycsXG4gIGlucHV0T3B0aW9uczoge30sXG4gIGlucHV0QXV0b1RyaW06IHRydWUsXG4gIGlucHV0Q2xhc3M6IG51bGwsXG4gIGlucHV0QXR0cmlidXRlczoge30sXG4gIGlucHV0VmFsaWRhdG9yOiBudWxsXG59O1xuXG4vKlxuICogTWFuaXB1bGF0ZSBET01cbiAqL1xudmFyIGdldE1vZGFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIHN3YWxDbGFzc2VzLm1vZGFsKTtcbn07XG5cbnZhciBnZXRPdmVybGF5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIHN3YWxDbGFzc2VzLm92ZXJsYXkpO1xufTtcblxudmFyIGhhc0NsYXNzID0gZnVuY3Rpb24oZWxlbSwgY2xhc3NOYW1lKSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKCcgJyArIGNsYXNzTmFtZSArICcgJykudGVzdCgnICcgKyBlbGVtLmNsYXNzTmFtZSArICcgJyk7XG59O1xuXG52YXIgZm9jdXNJbnB1dCA9IGZ1bmN0aW9uKGlucHV0KSB7XG4gIGlucHV0LmZvY3VzKCk7XG5cbiAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjM0NTkxNS8xMzMxNDI1XG4gIHZhciB2YWwgPSBpbnB1dC52YWx1ZTtcbiAgaW5wdXQudmFsdWUgPSAnJztcbiAgaW5wdXQudmFsdWUgPSB2YWw7XG59O1xuXG52YXIgYWRkQ2xhc3MgPSBmdW5jdGlvbihlbGVtLCBjbGFzc05hbWUpIHtcbiAgaWYgKGNsYXNzTmFtZSAmJiAhaGFzQ2xhc3MoZWxlbSwgY2xhc3NOYW1lKSkge1xuICAgIGVsZW0uY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcbiAgfVxufTtcblxudmFyIHJlbW92ZUNsYXNzID0gZnVuY3Rpb24oZWxlbSwgY2xhc3NOYW1lKSB7XG4gIHZhciBuZXdDbGFzcyA9ICcgJyArIGVsZW0uY2xhc3NOYW1lLnJlcGxhY2UoL1tcXHRcXHJcXG5dL2csICcgJykgKyAnICc7XG4gIGlmIChoYXNDbGFzcyhlbGVtLCBjbGFzc05hbWUpKSB7XG4gICAgd2hpbGUgKG5ld0NsYXNzLmluZGV4T2YoJyAnICsgY2xhc3NOYW1lICsgJyAnKSA+PSAwKSB7XG4gICAgICBuZXdDbGFzcyA9IG5ld0NsYXNzLnJlcGxhY2UoJyAnICsgY2xhc3NOYW1lICsgJyAnLCAnICcpO1xuICAgIH1cbiAgICBlbGVtLmNsYXNzTmFtZSA9IG5ld0NsYXNzLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgfVxufTtcblxudmFyIGdldENoaWxkQnlDbGFzcyA9IGZ1bmN0aW9uKGVsZW0sIGNsYXNzTmFtZSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW0uY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChlbGVtLmNoaWxkTm9kZXNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkpIHtcbiAgICAgIHJldHVybiBlbGVtLmNoaWxkTm9kZXNbaV07XG4gICAgfVxuICB9XG59O1xuXG52YXIgX3Nob3cgPSBmdW5jdGlvbihlbGVtKSB7XG4gIGVsZW0uc3R5bGUub3BhY2l0eSA9ICcnO1xuICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufTtcblxudmFyIHNob3cgPSBmdW5jdGlvbihlbGVtcykge1xuICBpZiAoZWxlbXMgJiYgIWVsZW1zLmxlbmd0aCkge1xuICAgIHJldHVybiBfc2hvdyhlbGVtcyk7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtcy5sZW5ndGg7ICsraSkge1xuICAgIF9zaG93KGVsZW1zW2ldKTtcbiAgfVxufTtcblxudmFyIF9oaWRlID0gZnVuY3Rpb24oZWxlbSkge1xuICBlbGVtLnN0eWxlLm9wYWNpdHkgPSAnJztcbiAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufTtcblxudmFyIGhpZGUgPSBmdW5jdGlvbihlbGVtcykge1xuICBpZiAoZWxlbXMgJiYgIWVsZW1zLmxlbmd0aCkge1xuICAgIHJldHVybiBfaGlkZShlbGVtcyk7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtcy5sZW5ndGg7ICsraSkge1xuICAgIF9oaWRlKGVsZW1zW2ldKTtcbiAgfVxufTtcblxudmFyIHJlbW92ZVN0eWxlUHJvcGVydHkgPSBmdW5jdGlvbihlbGVtLCBwcm9wZXJ0eSkge1xuICBpZiAoZWxlbS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSkge1xuICAgIGVsZW0uc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcGVydHkpO1xuICB9IGVsc2Uge1xuICAgIGVsZW0uc3R5bGUucmVtb3ZlQXR0cmlidXRlKHByb3BlcnR5KTtcbiAgfVxufTtcblxudmFyIGdldFRvcE1hcmdpbiA9IGZ1bmN0aW9uKGVsZW0pIHtcbiAgZWxlbS5zdHlsZS5sZWZ0ID0gJy05OTk5cHgnO1xuICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gIHZhciBoZWlnaHQgPSBlbGVtLmNsaWVudEhlaWdodDtcbiAgdmFyIHBhZGRpbmdUb3AgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGVsZW0pLmdldFByb3BlcnR5VmFsdWUoJ3BhZGRpbmctdG9wJyksIDEwKTtcblxuICBlbGVtLnN0eWxlLmxlZnQgPSAnJztcbiAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICByZXR1cm4gKCctJyArIHBhcnNlSW50KGhlaWdodCAvIDIgKyBwYWRkaW5nVG9wLCAxMCkgKyAncHgnKTtcbn07XG5cbnZhciBmYWRlSW4gPSBmdW5jdGlvbihlbGVtLCBpbnRlcnZhbCkge1xuICBpZiAoK2VsZW0uc3R5bGUub3BhY2l0eSA8IDEpIHtcbiAgICBpbnRlcnZhbCA9IGludGVydmFsIHx8IDE2O1xuICAgIGVsZW0uc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB2YXIgbGFzdCA9ICtuZXcgRGF0ZSgpO1xuICAgIHZhciB0aWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICBlbGVtLnN0eWxlLm9wYWNpdHkgPSArZWxlbS5zdHlsZS5vcGFjaXR5ICsgKG5ldyBEYXRlKCkgLSBsYXN0KSAvIDEwMDtcbiAgICAgIGxhc3QgPSArbmV3IERhdGUoKTtcblxuICAgICAgaWYgKCtlbGVtLnN0eWxlLm9wYWNpdHkgPCAxKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGljaywgaW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGljaygpO1xuICB9XG59O1xuXG52YXIgZXh0ZW5kID0gZnVuY3Rpb24oYSwgYikge1xuICBmb3IgKHZhciBrZXkgaW4gYikge1xuICAgIGlmIChiLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGFba2V5XSA9IGJba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYTtcbn07XG5cbnZhciBmaXJlQ2xpY2sgPSBmdW5jdGlvbihub2RlKSB7XG4gIC8vIFRha2VuIGZyb20gaHR0cDovL3d3dy5ub25vYnRydXNpdmUuY29tLzIwMTEvMTEvMjkvcHJvZ3JhbWF0aWNhbGx5LWZpcmUtY3Jvc3Nicm93c2VyLWNsaWNrLWV2ZW50LXdpdGgtamF2YXNjcmlwdC9cbiAgLy8gVGhlbiBmaXhlZCBmb3IgdG9kYXkncyBDaHJvbWUgYnJvd3Nlci5cbiAgaWYgKHR5cGVvZiBNb3VzZUV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gVXAtdG8tZGF0ZSBhcHByb2FjaFxuICAgIHZhciBtZXZ0ID0gbmV3IE1vdXNlRXZlbnQoJ2NsaWNrJywge1xuICAgICAgdmlldzogd2luZG93LFxuICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgbm9kZS5kaXNwYXRjaEV2ZW50KG1ldnQpO1xuICB9IGVsc2UgaWYgKGRvY3VtZW50LmNyZWF0ZUV2ZW50KSB7XG4gICAgLy8gRmFsbGJhY2tcbiAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XG4gICAgZXZ0LmluaXRFdmVudCgnY2xpY2snLCBmYWxzZSwgZmFsc2UpO1xuICAgIG5vZGUuZGlzcGF0Y2hFdmVudChldnQpO1xuICB9IGVsc2UgaWYgKGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KSB7XG4gICAgbm9kZS5maXJlRXZlbnQoJ29uY2xpY2snKTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygbm9kZS5vbmNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgbm9kZS5vbmNsaWNrKCk7XG4gIH1cbn07XG5cbnZhciBzdG9wRXZlbnRQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgLy8gSW4gcGFydGljdWxhciwgbWFrZSBzdXJlIHRoZSBzcGFjZSBiYXIgZG9lc24ndCBzY3JvbGwgdGhlIG1haW4gd2luZG93LlxuICBpZiAodHlwZW9mIGUuc3RvcFByb3BhZ2F0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH0gZWxzZSBpZiAod2luZG93LmV2ZW50ICYmIHdpbmRvdy5ldmVudC5oYXNPd25Qcm9wZXJ0eSgnY2FuY2VsQnViYmxlJykpIHtcbiAgICB3aW5kb3cuZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgfVxufTtcblxuLy8gUmVtZW1iZXIgc3RhdGUgaW4gY2FzZXMgd2hlcmUgb3BlbmluZyBhbmQgaGFuZGxpbmcgYSBtb2RhbCB3aWxsIGZpZGRsZSB3aXRoIGl0LlxudmFyIHByZXZpb3VzRG9jdW1lbnRDbGljaztcbnZhciBwcmV2aW91c1dpbmRvd0tleURvd247XG52YXIgbGFzdEZvY3VzZWRCdXR0b247XG5cbi8vIFJlc2V0IHRoZSBwYWdlIHRvIGl0cyBwcmV2aW91cyBzdGF0ZVxudmFyIHJlc2V0UHJldlN0YXRlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBtb2RhbCA9IGdldE1vZGFsKCk7XG4gIHdpbmRvdy5vbmtleWRvd24gPSBwcmV2aW91c1dpbmRvd0tleURvd247XG4gIGRvY3VtZW50Lm9uY2xpY2sgPSBwcmV2aW91c0RvY3VtZW50Q2xpY2s7XG4gIGlmICh3aW5kb3cucHJldmlvdXNBY3RpdmVFbGVtZW50KSB7XG4gICAgd2luZG93LnByZXZpb3VzQWN0aXZlRWxlbWVudC5mb2N1cygpO1xuICB9XG4gIGxhc3RGb2N1c2VkQnV0dG9uID0gdW5kZWZpbmVkO1xuICBjbGVhclRpbWVvdXQobW9kYWwudGltZW91dCk7XG5cbiAgLy8gUmVtb3ZlIGR5bmFtaWNhbGx5IGNyZWF0ZWQgbWVkaWEgcXVlcnlcbiAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICB2YXIgbWVkaWFxdWVyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lZGlhcXVlcnlJZCk7XG4gIGlmIChtZWRpYXF1ZXJ5KSB7XG4gICAgaGVhZC5yZW1vdmVDaGlsZChtZWRpYXF1ZXJ5KTtcbiAgfVxufTtcblxuLypcbiAqIFNldCBob3ZlciwgYWN0aXZlIGFuZCBmb2N1cy1zdGF0ZXMgZm9yIGJ1dHRvbnMgKHNvdXJjZTogaHR0cDovL3d3dy5zaXRlcG9pbnQuY29tL2phdmFzY3JpcHQtZ2VuZXJhdGUtbGlnaHRlci1kYXJrZXItY29sb3IpXG4gKi9cbnZhciBjb2xvckx1bWluYW5jZSA9IGZ1bmN0aW9uKGhleCwgbHVtKSB7XG4gIC8vIFZhbGlkYXRlIGhleCBzdHJpbmdcbiAgaGV4ID0gU3RyaW5nKGhleCkucmVwbGFjZSgvW14wLTlhLWZdL2dpLCAnJyk7XG4gIGlmIChoZXgubGVuZ3RoIDwgNikge1xuICAgIGhleCA9IGhleFswXSArIGhleFswXSArIGhleFsxXSArIGhleFsxXSArIGhleFsyXSArIGhleFsyXTtcbiAgfVxuICBsdW0gPSBsdW0gfHwgMDtcblxuICAvLyBDb252ZXJ0IHRvIGRlY2ltYWwgYW5kIGNoYW5nZSBsdW1pbm9zaXR5XG4gIHZhciByZ2IgPSAnIyc7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgdmFyIGMgPSBwYXJzZUludChoZXguc3Vic3RyKGkgKiAyLCAyKSwgMTYpO1xuICAgIGMgPSBNYXRoLnJvdW5kKE1hdGgubWluKE1hdGgubWF4KDAsIGMgKyAoYyAqIGx1bSkpLCAyNTUpKS50b1N0cmluZygxNik7XG4gICAgcmdiICs9ICgnMDAnICsgYykuc3Vic3RyKGMubGVuZ3RoKTtcbiAgfVxuXG4gIHJldHVybiByZ2I7XG59O1xuXG5cbi8qXG4gKiBBbmltYXRpb25zXG4gKi9cbnZhciBvcGVuTW9kYWwgPSBmdW5jdGlvbigpIHtcbiAgdmFyIG1vZGFsID0gZ2V0TW9kYWwoKTtcbiAgZmFkZUluKGdldE92ZXJsYXkoKSwgMTApO1xuICBzaG93KG1vZGFsKTtcbiAgYWRkQ2xhc3MobW9kYWwsICdzaG93LXN3YWwyJyk7XG4gIHJlbW92ZUNsYXNzKG1vZGFsLCAnaGlkZS1zd2FsMicpO1xuXG4gIHdpbmRvdy5wcmV2aW91c0FjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXG4gIGFkZENsYXNzKG1vZGFsLCAndmlzaWJsZScpO1xufTtcblxuLypcbiAqIFNldCAnbWFyZ2luLXRvcCctcHJvcGVydHkgb24gbW9kYWwgYmFzZWQgb24gaXRzIGNvbXB1dGVkIGhlaWdodFxuICovXG52YXIgZml4VmVydGljYWxQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbW9kYWwgPSBnZXRNb2RhbCgpO1xuXG4gIG1vZGFsLnN0eWxlLm1hcmdpblRvcCA9IGdldFRvcE1hcmdpbihnZXRNb2RhbCgpKTtcbn07XG5cbmZ1bmN0aW9uIG1vZGFsRGVwZW5kYW50KCkge1xuXG4gIGlmIChhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCkge1xuICAgIHdpbmRvdy5jb25zb2xlLmVycm9yKCdzd2VldEFsZXJ0MiBleHBlY3RzIGF0IGxlYXN0IDEgYXR0cmlidXRlIScpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBwYXJhbXMgPSBleHRlbmQoe30sIGRlZmF1bHRQYXJhbXMpO1xuXG4gIHN3aXRjaCAodHlwZW9mIGFyZ3VtZW50c1swXSkge1xuXG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHBhcmFtcy50aXRsZSA9IGFyZ3VtZW50c1swXTtcbiAgICAgIHBhcmFtcy50ZXh0ICA9IGFyZ3VtZW50c1sxXSB8fCAnJztcbiAgICAgIHBhcmFtcy50eXBlICA9IGFyZ3VtZW50c1syXSB8fCAnJztcblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgcGFyYW1zLnRpdGxlICAgICAgICAgICAgICA9IGFyZ3VtZW50c1swXS50aXRsZSB8fCBkZWZhdWx0UGFyYW1zLnRpdGxlO1xuICAgICAgcGFyYW1zLnRleHQgICAgICAgICAgICAgICA9IGFyZ3VtZW50c1swXS50ZXh0IHx8IGRlZmF1bHRQYXJhbXMudGV4dDtcbiAgICAgIHBhcmFtcy5odG1sICAgICAgICAgICAgICAgPSBhcmd1bWVudHNbMF0uaHRtbCB8fCBkZWZhdWx0UGFyYW1zLmh0bWw7XG4gICAgICBwYXJhbXMudHlwZSAgICAgICAgICAgICAgID0gYXJndW1lbnRzWzBdLnR5cGUgfHwgZGVmYXVsdFBhcmFtcy50eXBlO1xuICAgICAgcGFyYW1zLmFuaW1hdGlvbiAgICAgICAgICA9IGFyZ3VtZW50c1swXS5hbmltYXRpb24gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXS5hbmltYXRpb24gOiBkZWZhdWx0UGFyYW1zLmFuaW1hdGlvbjtcbiAgICAgIHBhcmFtcy5jdXN0b21DbGFzcyAgICAgICAgPSBhcmd1bWVudHNbMF0uY3VzdG9tQ2xhc3MgfHwgcGFyYW1zLmN1c3RvbUNsYXNzO1xuICAgICAgcGFyYW1zLmFsbG93T3V0c2lkZUNsaWNrICA9IGFyZ3VtZW50c1swXS5hbGxvd091dHNpZGVDbGljayAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdLmFsbG93T3V0c2lkZUNsaWNrIDogZGVmYXVsdFBhcmFtcy5hbGxvd091dHNpZGVDbGljaztcbiAgICAgIHBhcmFtcy5hbGxvd0VzY2FwZUtleSAgICAgPSBhcmd1bWVudHNbMF0uYWxsb3dFc2NhcGVLZXkgIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXS5hbGxvd0VzY2FwZUtleSA6IGRlZmF1bHRQYXJhbXMuYWxsb3dFc2NhcGVLZXk7XG4gICAgICBwYXJhbXMuc2hvd0NvbmZpcm1CdXR0b24gID0gYXJndW1lbnRzWzBdLnNob3dDb25maXJtQnV0dG9uICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0uc2hvd0NvbmZpcm1CdXR0b24gOiBkZWZhdWx0UGFyYW1zLnNob3dDb25maXJtQnV0dG9uO1xuICAgICAgcGFyYW1zLnNob3dDYW5jZWxCdXR0b24gICA9IGFyZ3VtZW50c1swXS5zaG93Q2FuY2VsQnV0dG9uICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0uc2hvd0NhbmNlbEJ1dHRvbiA6IGRlZmF1bHRQYXJhbXMuc2hvd0NhbmNlbEJ1dHRvbjtcbiAgICAgIHBhcmFtcy5wcmVDb25maXJtICAgICAgICAgPSBhcmd1bWVudHNbMF0ucHJlQ29uZmlybSB8fCBkZWZhdWx0UGFyYW1zLnByZUNvbmZpcm07XG4gICAgICBwYXJhbXMudGltZXIgICAgICAgICAgICAgID0gcGFyc2VJbnQoYXJndW1lbnRzWzBdLnRpbWVyLCAxMCkgfHwgZGVmYXVsdFBhcmFtcy50aW1lcjtcbiAgICAgIHBhcmFtcy53aWR0aCAgICAgICAgICAgICAgPSBwYXJzZUludChhcmd1bWVudHNbMF0ud2lkdGgsIDEwKSB8fCBkZWZhdWx0UGFyYW1zLndpZHRoO1xuICAgICAgcGFyYW1zLnBhZGRpbmcgICAgICAgICAgICA9IHBhcnNlSW50KGFyZ3VtZW50c1swXS5wYWRkaW5nLCAxMCkgfHwgZGVmYXVsdFBhcmFtcy5wYWRkaW5nO1xuICAgICAgcGFyYW1zLmJhY2tncm91bmQgICAgICAgICA9IGFyZ3VtZW50c1swXS5iYWNrZ3JvdW5kICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0uYmFja2dyb3VuZCA6IGRlZmF1bHRQYXJhbXMuYmFja2dyb3VuZDtcblxuICAgICAgcGFyYW1zLmNvbmZpcm1CdXR0b25UZXh0ICA9IGFyZ3VtZW50c1swXS5jb25maXJtQnV0dG9uVGV4dCB8fCBkZWZhdWx0UGFyYW1zLmNvbmZpcm1CdXR0b25UZXh0O1xuICAgICAgcGFyYW1zLmNvbmZpcm1CdXR0b25Db2xvciA9IGFyZ3VtZW50c1swXS5jb25maXJtQnV0dG9uQ29sb3IgfHwgZGVmYXVsdFBhcmFtcy5jb25maXJtQnV0dG9uQ29sb3I7XG4gICAgICBwYXJhbXMuY29uZmlybUJ1dHRvbkNsYXNzID0gYXJndW1lbnRzWzBdLmNvbmZpcm1CdXR0b25DbGFzcyB8fCBwYXJhbXMuY29uZmlybUJ1dHRvbkNsYXNzO1xuICAgICAgcGFyYW1zLmNhbmNlbEJ1dHRvblRleHQgICA9IGFyZ3VtZW50c1swXS5jYW5jZWxCdXR0b25UZXh0IHx8IGRlZmF1bHRQYXJhbXMuY2FuY2VsQnV0dG9uVGV4dDtcbiAgICAgIHBhcmFtcy5jYW5jZWxCdXR0b25Db2xvciAgPSBhcmd1bWVudHNbMF0uY2FuY2VsQnV0dG9uQ29sb3IgfHwgZGVmYXVsdFBhcmFtcy5jYW5jZWxCdXR0b25Db2xvcjtcbiAgICAgIHBhcmFtcy5jYW5jZWxCdXR0b25DbGFzcyAgPSBhcmd1bWVudHNbMF0uY2FuY2VsQnV0dG9uQ2xhc3MgfHwgcGFyYW1zLmNhbmNlbEJ1dHRvbkNsYXNzO1xuICAgICAgcGFyYW1zLmJ1dHRvbnNTdHlsaW5nICAgICA9IGFyZ3VtZW50c1swXS5idXR0b25zU3R5bGluZyAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdLmJ1dHRvbnNTdHlsaW5nIDogZGVmYXVsdFBhcmFtcy5idXR0b25zU3R5bGluZztcbiAgICAgIHBhcmFtcy5yZXZlcnNlQnV0dG9ucyAgICAgPSBhcmd1bWVudHNbMF0ucmV2ZXJzZUJ1dHRvbnMgIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXS5yZXZlcnNlQnV0dG9ucyA6IGRlZmF1bHRQYXJhbXMucmV2ZXJzZUJ1dHRvbnM7XG4gICAgICBwYXJhbXMuc2hvd0Nsb3NlQnV0dG9uICAgID0gYXJndW1lbnRzWzBdLnNob3dDbG9zZUJ1dHRvbiAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdLnNob3dDbG9zZUJ1dHRvbiA6IGRlZmF1bHRQYXJhbXMuc2hvd0Nsb3NlQnV0dG9uO1xuICAgICAgcGFyYW1zLmltYWdlVXJsICAgICAgICAgICA9IGFyZ3VtZW50c1swXS5pbWFnZVVybCB8fCBkZWZhdWx0UGFyYW1zLmltYWdlVXJsO1xuICAgICAgcGFyYW1zLmltYWdlV2lkdGggICAgICAgICA9IGFyZ3VtZW50c1swXS5pbWFnZVdpZHRoIHx8IGRlZmF1bHRQYXJhbXMuaW1hZ2VXaWR0aDtcbiAgICAgIHBhcmFtcy5pbWFnZUhlaWdodCAgICAgICAgPSBhcmd1bWVudHNbMF0uaW1hZ2VIZWlnaHQgfHwgZGVmYXVsdFBhcmFtcy5pbWFnZUhlaWdodDtcbiAgICAgIHBhcmFtcy5pbWFnZUNsYXNzICAgICAgICAgPSBhcmd1bWVudHNbMF0uaW1hZ2VDbGFzcyB8fCBkZWZhdWx0UGFyYW1zLmltYWdlQ2xhc3M7XG5cbiAgICAgIHBhcmFtcy5pbnB1dCAgICAgICAgICAgICAgPSBhcmd1bWVudHNbMF0uaW5wdXQgfHwgZGVmYXVsdFBhcmFtcy5pbnB1dDtcbiAgICAgIHBhcmFtcy5pbnB1dFBsYWNlaG9sZGVyICAgPSBhcmd1bWVudHNbMF0uaW5wdXRQbGFjZWhvbGRlciB8fCBkZWZhdWx0UGFyYW1zLmlucHV0UGxhY2Vob2xkZXI7XG4gICAgICBwYXJhbXMuaW5wdXRWYWx1ZSAgICAgICAgID0gYXJndW1lbnRzWzBdLmlucHV0VmFsdWUgfHwgZGVmYXVsdFBhcmFtcy5pbnB1dFZhbHVlO1xuICAgICAgcGFyYW1zLmlucHV0T3B0aW9ucyAgICAgICA9IGFyZ3VtZW50c1swXS5pbnB1dE9wdGlvbnMgfHwgZGVmYXVsdFBhcmFtcy5pbnB1dE9wdGlvbnM7XG4gICAgICBwYXJhbXMuaW5wdXRBdXRvVHJpbSAgICAgID0gYXJndW1lbnRzWzBdLmlucHV0QXV0b1RyaW0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXS5pbnB1dEF1dG9UcmltIDogZGVmYXVsdFBhcmFtcy5pbnB1dEF1dG9UcmltO1xuICAgICAgcGFyYW1zLmlucHV0Q2xhc3MgICAgICAgICA9IGFyZ3VtZW50c1swXS5pbnB1dENsYXNzIHx8IGRlZmF1bHRQYXJhbXMuaW5wdXRDbGFzcztcbiAgICAgIHBhcmFtcy5pbnB1dEF0dHJpYnV0ZXMgICAgPSBhcmd1bWVudHNbMF0uaW5wdXRBdHRyaWJ1dGVzIHx8IGRlZmF1bHRQYXJhbXMuaW5wdXRBdHRyaWJ1dGVzO1xuICAgICAgcGFyYW1zLmlucHV0VmFsaWRhdG9yICAgICA9IGFyZ3VtZW50c1swXS5pbnB1dFZhbGlkYXRvciB8fCBkZWZhdWx0UGFyYW1zLmlucHV0VmFsaWRhdG9yO1xuXG4gICAgICBwYXJhbXMuZXh0cmFQYXJhbXMgICAgICAgID0gYXJndW1lbnRzWzBdLmV4dHJhUGFyYW1zO1xuXG4gICAgICBpZiAocGFyYW1zLmlucHV0ID09PSAnZW1haWwnICYmIHBhcmFtcy5pbnB1dFZhbGlkYXRvciA9PT0gbnVsbCkge1xuICAgICAgICBwYXJhbXMuaW5wdXRWYWxpZGF0b3IgPSBmdW5jdGlvbihlbWFpbCkge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBlbWFpbFJlZ2V4ID0gL15bYS16QS1aMC05Ll8tXStAW2EtekEtWjAtOS4tXStcXC5bYS16QS1aXXsyLDZ9JC87XG4gICAgICAgICAgICBpZiAoZW1haWxSZWdleC50ZXN0KGVtYWlsKSkge1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZWplY3QoJ0ludmFsaWQgZW1haWwgYWRkcmVzcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICB3aW5kb3cuY29uc29sZS5lcnJvcignVW5leHBlY3RlZCB0eXBlIG9mIGFyZ3VtZW50ISBFeHBlY3RlZCBcInN0cmluZ1wiIG9yIFwib2JqZWN0XCIsIGdvdCAnICsgdHlwZW9mIGFyZ3VtZW50c1swXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgfVxuXG4gIHNldFBhcmFtZXRlcnMocGFyYW1zKTtcbiAgZml4VmVydGljYWxQb3NpdGlvbigpO1xuICBvcGVuTW9kYWwoKTtcblxuICAvLyBNb2RhbCBpbnRlcmFjdGlvbnNcbiAgdmFyIG1vZGFsID0gZ2V0TW9kYWwoKTtcblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgIC8vIENsb3NlIG9uIHRpbWVyXG4gICAgaWYgKHBhcmFtcy50aW1lcikge1xuICAgICAgbW9kYWwudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHN3YWwuY2xvc2VNb2RhbCgpO1xuICAgICAgICByZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICB9LCBwYXJhbXMudGltZXIpO1xuICAgIH1cblxuICAgIC8vIGlucHV0L3NlbGVjdCBhdXRvZm9jdXNcbiAgICB2YXIgZ2V0SW5wdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHN3aXRjaCAocGFyYW1zLmlucHV0KSB7XG4gICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgcmV0dXJuIGdldENoaWxkQnlDbGFzcyhtb2RhbCwgc3dhbENsYXNzZXMuc2VsZWN0KTtcbiAgICAgICAgY2FzZSAncmFkaW8nOlxuICAgICAgICAgIHJldHVybiBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuJyArIHN3YWxDbGFzc2VzLnJhZGlvICsgJyBpbnB1dDpjaGVja2VkJykgfHxcbiAgICAgICAgICAgIG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy4nICsgc3dhbENsYXNzZXMucmFkaW8gKyAnIGlucHV0OmZpcnN0LWNoaWxkJyk7XG4gICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICByZXR1cm4gbW9kYWwucXVlcnlTZWxlY3RvcignIycgKyBzd2FsQ2xhc3Nlcy5jaGVja2JveCk7XG4gICAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgICAgICByZXR1cm4gZ2V0Q2hpbGRCeUNsYXNzKG1vZGFsLCBzd2FsQ2xhc3Nlcy50ZXh0YXJlYSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGdldENoaWxkQnlDbGFzcyhtb2RhbCwgc3dhbENsYXNzZXMuaW5wdXQpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGdldElucHV0VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpbnB1dCA9IGdldElucHV0KCk7XG4gICAgICBzd2l0Y2ggKHBhcmFtcy5pbnB1dCkge1xuICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgcmV0dXJuIGlucHV0LmNoZWNrZWQgPyAxIDogMDtcbiAgICAgICAgY2FzZSAncmFkaW8nOlxuICAgICAgICAgIHJldHVybiBpbnB1dC5jaGVja2VkID8gaW5wdXQudmFsdWUgOiBudWxsO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBwYXJhbXMuaW5wdXRBdXRvVHJpbT8gaW5wdXQudmFsdWUudHJpbSgpIDogaW5wdXQudmFsdWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChwYXJhbXMuaW5wdXQpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvY3VzSW5wdXQoZ2V0SW5wdXQoKSk7XG4gICAgICB9LCAwKTtcbiAgICB9XG5cbiAgICB2YXIgY29uZmlybSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAocGFyYW1zLnByZUNvbmZpcm0pIHtcbiAgICAgICAgcGFyYW1zLnByZUNvbmZpcm0odmFsdWUsIHBhcmFtcy5leHRyYVBhcmFtcykudGhlbihmdW5jdGlvbihwcmVDb25maXJtVmFsdWUpIHtcbiAgICAgICAgICByZXNvbHZlKHByZUNvbmZpcm1WYWx1ZSB8fCB2YWx1ZSk7XG4gICAgICAgICAgc3dhbC5jbG9zZU1vZGFsKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIHN3YWwuY2xvc2VNb2RhbCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBNb3VzZSBpbnRlcmFjdGlvbnNcbiAgICB2YXIgb25CdXR0b25FdmVudCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgZSA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcbiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XG4gICAgICB2YXIgdGFyZ2V0ZWRDb25maXJtID0gaGFzQ2xhc3ModGFyZ2V0LCBzd2FsQ2xhc3Nlcy5jb25maXJtKTtcbiAgICAgIHZhciB0YXJnZXRlZENhbmNlbCAgPSBoYXNDbGFzcyh0YXJnZXQsIHN3YWxDbGFzc2VzLmNhbmNlbCk7XG4gICAgICB2YXIgbW9kYWxJc1Zpc2libGUgID0gaGFzQ2xhc3MobW9kYWwsICd2aXNpYmxlJyk7XG5cbiAgICAgIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ21vdXNlb3Zlcic6XG4gICAgICAgIGNhc2UgJ21vdXNldXAnOlxuICAgICAgICBjYXNlICdmb2N1cyc6XG4gICAgICAgICAgaWYgKHBhcmFtcy5idXR0b25zU3R5bGluZykge1xuICAgICAgICAgICAgaWYgKHRhcmdldGVkQ29uZmlybSkge1xuICAgICAgICAgICAgICB0YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3JMdW1pbmFuY2UocGFyYW1zLmNvbmZpcm1CdXR0b25Db2xvciwgLTAuMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldGVkQ2FuY2VsKSB7XG4gICAgICAgICAgICAgIHRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvckx1bWluYW5jZShwYXJhbXMuY2FuY2VsQnV0dG9uQ29sb3IsIC0wLjEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbW91c2VvdXQnOlxuICAgICAgICBjYXNlICdibHVyJzpcbiAgICAgICAgICBpZiAocGFyYW1zLmJ1dHRvbnNTdHlsaW5nKSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ZWRDb25maXJtKSB7XG4gICAgICAgICAgICAgIHRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBwYXJhbXMuY29uZmlybUJ1dHRvbkNvbG9yO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRlZENhbmNlbCkge1xuICAgICAgICAgICAgICB0YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gcGFyYW1zLmNhbmNlbEJ1dHRvbkNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbW91c2Vkb3duJzpcbiAgICAgICAgICBpZiAocGFyYW1zLmJ1dHRvbnNTdHlsaW5nKSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ZWRDb25maXJtKSB7XG4gICAgICAgICAgICAgIHRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvckx1bWluYW5jZShwYXJhbXMuY29uZmlybUJ1dHRvbkNvbG9yLCAtMC4yKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ZWRDYW5jZWwpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yTHVtaW5hbmNlKHBhcmFtcy5jYW5jZWxCdXR0b25Db2xvciwgLTAuMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjbGljayc6XG4gICAgICAgICAgLy8gQ2xpY2tlZCAnY29uZmlybSdcbiAgICAgICAgICBpZiAodGFyZ2V0ZWRDb25maXJtICYmIG1vZGFsSXNWaXNpYmxlKSB7XG5cbiAgICAgICAgICAgIGlmIChwYXJhbXMuaW5wdXQpIHtcbiAgICAgICAgICAgICAgdmFyIGlucHV0VmFsdWUgPSBnZXRJbnB1dFZhbHVlKCk7XG4gICAgICAgICAgICAgIGlmIChwYXJhbXMuaW5wdXRWYWxpZGF0b3IpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuaW5wdXRWYWxpZGF0b3IoaW5wdXRWYWx1ZSwgcGFyYW1zLmV4dHJhUGFyYW1zKS50aGVuKFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpcm0oaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dhbC5zaG93VmFsaWRhdGlvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbmZpcm0oaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uZmlybSh0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENsaWNrZWQgJ2NhbmNlbCdcbiAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldGVkQ2FuY2VsICYmIG1vZGFsSXNWaXNpYmxlKSB7XG5cbiAgICAgICAgICAgIHN3YWwuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3dhbC5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciAkYnV0dG9ucyA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbicpO1xuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCAkYnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgJGJ1dHRvbnNbaV0ub25jbGljayAgICAgPSBvbkJ1dHRvbkV2ZW50O1xuICAgICAgJGJ1dHRvbnNbaV0ub25tb3VzZW92ZXIgPSBvbkJ1dHRvbkV2ZW50O1xuICAgICAgJGJ1dHRvbnNbaV0ub25tb3VzZW91dCAgPSBvbkJ1dHRvbkV2ZW50O1xuICAgICAgJGJ1dHRvbnNbaV0ub25tb3VzZWRvd24gPSBvbkJ1dHRvbkV2ZW50O1xuICAgIH1cblxuICAgIC8vIFJlbWVtYmVyIHRoZSBjdXJyZW50IGRvY3VtZW50Lm9uY2xpY2sgZXZlbnQuXG4gICAgcHJldmlvdXNEb2N1bWVudENsaWNrID0gZG9jdW1lbnQub25jbGljaztcbiAgICBkb2N1bWVudC5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZhciBlID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xuICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcblxuICAgICAgaWYgKGhhc0NsYXNzKHRhcmdldCwgc3dhbENsYXNzZXMuY2xvc2UpIHx8ICh0YXJnZXQgPT09IGdldE92ZXJsYXkoKSAmJiBwYXJhbXMuYWxsb3dPdXRzaWRlQ2xpY2spKSB7XG4gICAgICAgIHN3YWwuY2xvc2VNb2RhbCgpO1xuICAgICAgICByZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEtleWJvYXJkIGludGVyYWN0aW9uc1xuICAgIHZhciAkY29uZmlybUJ1dHRvbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi4nICsgc3dhbENsYXNzZXMuY29uZmlybSk7XG4gICAgdmFyICRjYW5jZWxCdXR0b24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b24uJyArIHN3YWxDbGFzc2VzLmNhbmNlbCk7XG4gICAgdmFyICRtb2RhbEVsZW1lbnRzID0gWyRjb25maXJtQnV0dG9uLCAkY2FuY2VsQnV0dG9uXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG4gICAgICBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b246bm90KFtjbGFzc149JyArIHN3YWxQcmVmaXggKyAnXSksIGlucHV0Om5vdChbdHlwZT1oaWRkZW5dKSwgdGV4dGFyZWEsIHNlbGVjdCcpXG4gICAgKSk7XG4gICAgZm9yIChpID0gMDsgaSA8ICRtb2RhbEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAkbW9kYWxFbGVtZW50c1tpXS5vbmZvY3VzID0gb25CdXR0b25FdmVudDtcbiAgICAgICRtb2RhbEVsZW1lbnRzW2ldLm9uYmx1ciA9IG9uQnV0dG9uRXZlbnQ7XG4gICAgfVxuXG4gICAgLy8gUmV2ZXJzZSBidXR0b25zIGlmIG5lZWRlIGRcbiAgICBpZiAocGFyYW1zLnJldmVyc2VCdXR0b25zKSB7XG4gICAgICAkY29uZmlybUJ1dHRvbi5wYXJlbnROb2RlLmluc2VydEJlZm9yZSgkY2FuY2VsQnV0dG9uLCAkY29uZmlybUJ1dHRvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0Rm9jdXMoaW5kZXgsIGluY3JlbWVudCkge1xuICAgICAgLy8gc2VhcmNoIGZvciB2aXNpYmxlIGVsZW1lbnRzIGFuZCBzZWxlY3QgdGhlIG5leHQgcG9zc2libGUgbWF0Y2hcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJG1vZGFsRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5kZXggPSBpbmRleCArIGluY3JlbWVudDtcblxuICAgICAgICAvLyByb2xsb3ZlciB0byBmaXJzdCBpdGVtXG4gICAgICAgIGlmIChpbmRleCA9PT0gJG1vZGFsRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgaW5kZXggPSAwO1xuXG4gICAgICAgIC8vIGdvIHRvIGxhc3QgaXRlbVxuICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgIGluZGV4ID0gJG1vZGFsRWxlbWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRldGVybWluZSBpZiBlbGVtZW50IGlzIHZpc2libGUsIHRoZSBmb2xsb3dpbmcgaXMgYm9ycm93ZWQgZnJvbSBqcWV1cnkgJChlbGVtKS5pcygnOnZpc2libGUnKSBpbXBsZW1lbnRhdGlvblxuICAgICAgICBpZiAoXG4gICAgICAgICAgJG1vZGFsRWxlbWVudHNbaW5kZXhdLm9mZnNldFdpZHRoIHx8XG4gICAgICAgICAgJG1vZGFsRWxlbWVudHNbaW5kZXhdLm9mZnNldEhlaWdodCB8fFxuICAgICAgICAgICRtb2RhbEVsZW1lbnRzW2luZGV4XS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aFxuICAgICAgICApIHtcbiAgICAgICAgICAkbW9kYWxFbGVtZW50c1tpbmRleF0uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGb2N1cyB0aGUgZmlyc3QgZWxlbWVudCAoaW5wdXQgb3IgYnV0dG9uKVxuICAgIHNldEZvY3VzKC0xLCAxKTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZXZlbnQpIHtcbiAgICAgIHZhciBlID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xuICAgICAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGUgfHwgZS53aGljaDtcblxuICAgICAgaWYgKFs5LCAxMywgMzIsIDI3XS5pbmRleE9mKGtleUNvZGUpID09PSAtMSkge1xuICAgICAgICAvLyBEb24ndCBkbyB3b3JrIG9uIGtleXMgd2UgZG9uJ3QgY2FyZSBhYm91dC5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgJHRhcmdldEVsZW1lbnQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XG5cbiAgICAgIHZhciBidG5JbmRleCA9IC0xOyAvLyBGaW5kIHRoZSBidXR0b24gLSBub3RlLCB0aGlzIGlzIGEgbm9kZWxpc3QsIG5vdCBhbiBhcnJheS5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJG1vZGFsRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCR0YXJnZXRFbGVtZW50ID09PSAkbW9kYWxFbGVtZW50c1tpXSkge1xuICAgICAgICAgIGJ0bkluZGV4ID0gaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUQUJcbiAgICAgIGlmIChrZXlDb2RlID09PSA5KSB7XG4gICAgICAgIGlmICghZS5zaGlmdEtleSkge1xuICAgICAgICAgIC8vIEN5Y2xlIHRvIHRoZSBuZXh0IGJ1dHRvblxuICAgICAgICAgIHNldEZvY3VzKGJ0bkluZGV4LCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBDeWNsZSB0byB0aGUgcHJldiBidXR0b25cbiAgICAgICAgICBzZXRGb2N1cyhidG5JbmRleCwgLTEpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RvcEV2ZW50UHJvcGFnYXRpb24oZSk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChrZXlDb2RlID09PSAxMyB8fCBrZXlDb2RlID09PSAzMikge1xuICAgICAgICAgIGlmIChidG5JbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIEVOVEVSL1NQQUNFIGNsaWNrZWQgb3V0c2lkZSBvZiBhIGJ1dHRvbi5cbiAgICAgICAgICAgIGZpcmVDbGljaygkY29uZmlybUJ1dHRvbiwgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT09IDI3ICYmIHBhcmFtcy5hbGxvd0VzY2FwZUtleSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHN3YWwuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHByZXZpb3VzV2luZG93S2V5RG93biA9IHdpbmRvdy5vbmtleWRvd247XG4gICAgd2luZG93Lm9ua2V5ZG93biA9IGhhbmRsZUtleURvd247XG5cbiAgICAvLyBMb2FkaW5nIHN0YXRlXG4gICAgaWYgKHBhcmFtcy5idXR0b25zU3R5bGluZykge1xuICAgICAgJGNvbmZpcm1CdXR0b24uc3R5bGUuYm9yZGVyTGVmdENvbG9yID0gcGFyYW1zLmNvbmZpcm1CdXR0b25Db2xvcjtcbiAgICAgICRjb25maXJtQnV0dG9uLnN0eWxlLmJvcmRlclJpZ2h0Q29sb3IgPSBwYXJhbXMuY29uZmlybUJ1dHRvbkNvbG9yO1xuICAgIH1cblxuICAgIHN3YWwuZW5hYmxlTG9hZGluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgYWRkQ2xhc3MoJGNvbmZpcm1CdXR0b24sICdsb2FkaW5nJyk7XG4gICAgICBhZGRDbGFzcyhtb2RhbCwgJ2xvYWRpbmcnKTtcbiAgICAgICRjYW5jZWxCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICBzd2FsLmRpc2FibGVMb2FkaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZW1vdmVDbGFzcygkY29uZmlybUJ1dHRvbiwgJ2xvYWRpbmcnKTtcbiAgICAgIHJlbW92ZUNsYXNzKG1vZGFsLCAnbG9hZGluZycpO1xuICAgICAgJGNhbmNlbEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBzd2FsLmVuYWJsZUJ1dHRvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICRjb25maXJtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAkY2FuY2VsQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHN3YWwuZGlzYWJsZUJ1dHRvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICRjb25maXJtQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICRjYW5jZWxCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICBzd2FsLnNob3dWYWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbihlcnJvcikge1xuICAgICAgdmFyICR2YWxpZGF0aW9uRXJyb3IgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuJyArIHN3YWxDbGFzc2VzLnZhbGlkYXRpb25lcnJvcik7XG4gICAgICAkdmFsaWRhdGlvbkVycm9yLmlubmVySFRNTCA9IGVycm9yO1xuICAgICAgc2hvdygkdmFsaWRhdGlvbkVycm9yKTtcblxuICAgICAgdmFyIGlucHV0ID0gZ2V0SW5wdXQoKTtcbiAgICAgIGZvY3VzSW5wdXQoaW5wdXQpO1xuICAgICAgYWRkQ2xhc3MoaW5wdXQsICdlcnJvcicpO1xuICAgIH07XG5cbiAgICBzd2FsLnJlc2V0VmFsaWRhdGlvbkVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgJHZhbGlkYXRpb25FcnJvciA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy4nICsgc3dhbENsYXNzZXMudmFsaWRhdGlvbmVycm9yKTtcbiAgICAgIGhpZGUoJHZhbGlkYXRpb25FcnJvcik7XG5cbiAgICAgIHZhciBpbnB1dCA9IGdldElucHV0KCk7XG4gICAgICByZW1vdmVDbGFzcyhpbnB1dCwgJ2Vycm9yJyk7XG4gICAgfTtcblxuICAgIHN3YWwuZW5hYmxlQnV0dG9ucygpO1xuICAgIHN3YWwuZGlzYWJsZUxvYWRpbmcoKTtcbiAgICBzd2FsLnJlc2V0VmFsaWRhdGlvbkVycm9yKCk7XG5cbiAgICB3aW5kb3cub25mb2N1cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gV2hlbiB0aGUgdXNlciBoYXMgZm9jdXNlZCBhd2F5IGFuZCBmb2N1c2VkIGJhY2sgZnJvbSB0aGUgd2hvbGUgd2luZG93LlxuICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFB1dCBpbiBhIHRpbWVvdXQgdG8ganVtcCBvdXQgb2YgdGhlIGV2ZW50IHNlcXVlbmNlLiBDYWxsaW5nIGZvY3VzKCkgaW4gdGhlIGV2ZW50XG4gICAgICAgIC8vIHNlcXVlbmNlIGNvbmZ1c2VzIHRoaW5ncy5cbiAgICAgICAgaWYgKGxhc3RGb2N1c2VkQnV0dG9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBsYXN0Rm9jdXNlZEJ1dHRvbi5mb2N1cygpO1xuICAgICAgICAgIGxhc3RGb2N1c2VkQnV0dG9uID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9LCAwKTtcbiAgICB9O1xuICB9KTtcbn1cblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHdpbmRvdy5zd2VldEFsZXJ0ID0gd2luZG93LnN3YWwgPSBzd2FsO1xufSBlbHNlIHtcbiAgY29uc29sZS5sb2coJ1N3ZWV0QWxlcnQyIGlzIGEgYnJvd3NlciBtb2R1bGUnKTtcbn1cblxuIl19
